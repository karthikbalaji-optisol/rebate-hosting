{"version":3,"file":"index.umd.js","sources":["../node_modules/tslib/tslib.es6.js","../src/sdk.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","import { RebateSDKConfig, CardDetails, PayoutMethod, BankAccount, PayoutMethodOption } from './types';\n\n// Backend URL for fetching card details (can be overridden later)\n// Use an explicit localhost URL so demos served from a different port can reach it.\nconst CONFIG = {\n  SERVER_URL: \"https://rebate-server-hosting.onrender.com/\",\n  CREATE_ACCOUNT: \"create-account\",\n  GET_CVV: \"get-cvv-details\"\n}\n\nfunction createEl(tag: string, className?: string, innerHTML?: string) {\n  const el = document.createElement(tag);\n  if (className) el.className = className;\n  if (innerHTML !== undefined) el.innerHTML = innerHTML;\n  return el;\n}\n\n\nfunction applyStyles(el: HTMLElement, styles: Record<string, string | number>) {\n  Object.assign(el.style, styles as any);\n}\n\nconst DEFAULT_CARD: CardDetails = {\n  \"programId\": \"04016113\",\n  \"accountNumber\": \"0401611300744169\",\n  \"partner_user_id\": \"d2fe53af-51f8-4cb6-ac7f-682396061f3f\",\n  \"cardNumber\": \"5445446557809529\",\n  \"cardNumberMasked\": \"5445XXXXXXXX9529\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"exp_year\": 2026,\n  \"exp_month\": 10,\n  \"available\": 9300\n};\n\nexport class RebateSDK {\n  private cfg: RebateSDKConfig;\n  private container: HTMLElement | null = null;\n  private rootEl: HTMLElement | null = null;\n  private selectedPayoutMethod: PayoutMethod | null = null;\n  private currentBankAccount: BankAccount | null = null;\n\n  constructor(cfg: RebateSDKConfig) {\n    if (!cfg || !cfg.containerId) {\n      throw new Error('RebateSDK: containerId is required');\n    }\n    this.cfg = cfg;\n  }\n\n  // Public API to mount the SDK UI\n  async mount() {\n    const container = document.getElementById(this.cfg.containerId);\n    if (!container) throw new Error(`Container with id ${this.cfg.containerId} not found`);\n    this.container = container;\n\n    // Clear container\n    container.innerHTML = '';\n\n    // Root element\n    const root = createEl('div', 'onbe-rebate-root');\n    applyStyles(root, {\n      fontFamily: 'Arial, sans-serif',\n      width: '100%',\n      maxWidth: '400px',\n      margin: '0 auto'\n    });\n\n    // Placeholder for card\n    const cardHolder = createEl('div', 'onbe-rebate-card-holder');\n    root.appendChild(cardHolder);\n\n    container.appendChild(root);\n    this.rootEl = root;\n\n    // Inject toast animation styles\n    this.injectToastStyles();\n\n    // Show loading, then terms & conditions\n    await this.showTermsFlow();\n  }\n  \n  private injectToastStyles(): void {\n    // Check if styles already injected\n    if (document.getElementById('onbe-toast-styles')) return;\n    \n    const primaryColor = this.cfg.primaryColor || '#4db6ac';\n    \n    const style = createEl('style');\n    style.id = 'onbe-toast-styles';\n    style.innerHTML = `\n      @keyframes slideIn {\n        from {\n          transform: translateX(400px);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0);\n          opacity: 1;\n        }\n      }\n      @keyframes slideOut {\n        from {\n          transform: translateX(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateX(400px);\n          opacity: 0;\n        }\n      }\n      \n      /* Checkbox styling */\n      .onbe-checkbox:checked {\n        accent-color: ${primaryColor};\n      }\n      \n      /* Radio button styling */\n      .onbe-radio-checking:checked,\n      .onbe-radio-savings:checked {\n        accent-color: ${primaryColor};\n      }\n    `;\n    document.head.appendChild(style);\n  }\n\n  private async showTermsFlow() {\n    // Show initial loading\n    this.showLoadingBar('Loading terms...');\n    \n    // Simulate fetching terms\n    await new Promise(resolve => setTimeout(resolve, 800));\n    \n    // Hide loading and show terms\n    this.hideLoadingBar();\n    await this.showTermsAndConditions();\n  }\n\n  private async showTermsAndConditions(): Promise<void> {\n    return new Promise((resolve) => {\n      if (!this.rootEl) return;\n      \n      const holder = this.rootEl.querySelector('.onbe-rebate-card-holder') as HTMLElement;\n      if (!holder) return;\n      \n      holder.innerHTML = '';\n      \n      const termsContainer = createEl('div', 'onbe-terms-container');\n      applyStyles(termsContainer, {\n        padding: '8px 20px 20px 20px',\n        maxWidth: '100%'\n      });\n      \n      const title = createEl('h3', 'onbe-terms-title', 'Terms & Conditions');\n      applyStyles(title, {\n        fontSize: '16px',\n        fontWeight: '600',\n        margin: '0 0 12px 0',\n        marginTop: '0',\n        textAlign: 'center',\n        color: '#333'\n      });\n      \n      const description = createEl('p', 'onbe-terms-desc', 'To receive your refund as a virtual card, please review and accept our terms and conditions.');\n      applyStyles(description, {\n        fontSize: '14px',\n        color: '#666',\n        marginBottom: '16px',\n        lineHeight: '1.6'\n      });\n      \n      const linksBox = createEl('div', 'onbe-links-box');\n      applyStyles(linksBox, {\n        background: '#f9fafb',\n        padding: '16px',\n        borderRadius: '8px',\n        marginBottom: '16px'\n      });\n      \n      const linksText = createEl('p', 'onbe-links-text', 'By accepting, you agree to receive your refund as a virtual prepaid card. Please read our policies:');\n      applyStyles(linksText, {\n        fontSize: '13px',\n        color: '#555',\n        marginBottom: '12px',\n        lineHeight: '1.5',\n        margin: '0 0 12px 0'\n      });\n      \n      const linksWrapper = createEl('div', 'onbe-links-wrapper');\n      applyStyles(linksWrapper, {\n        display: 'flex',\n        gap: '16px',\n        flexWrap: 'wrap'\n      });\n      \n      const termsLink = createEl('a', 'onbe-terms-link', 'Terms of Service →');\n      termsLink.setAttribute('href', '#');\n      termsLink.setAttribute('target', '_blank');\n      applyStyles(termsLink, {\n        color: this.cfg.primaryColor || '#0b6cff',\n        textDecoration: 'none',\n        fontSize: '14px',\n        fontWeight: '500'\n      });\n      \n      const privacyLink = createEl('a', 'onbe-privacy-link', 'Privacy Policy →');\n      privacyLink.setAttribute('href', '#');\n      privacyLink.setAttribute('target', '_blank');\n      applyStyles(privacyLink, {\n        color: this.cfg.primaryColor || '#0b6cff',\n        textDecoration: 'none',\n        fontSize: '14px',\n        fontWeight: '500'\n      });\n      \n      linksWrapper.appendChild(termsLink);\n      linksWrapper.appendChild(privacyLink);\n      linksBox.appendChild(linksText);\n      linksBox.appendChild(linksWrapper);\n      \n      const checkboxLabel = createEl('label', 'onbe-checkbox-label');\n      applyStyles(checkboxLabel, {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '10px',\n        marginBottom: '20px',\n        cursor: 'pointer'\n      });\n      \n      const checkbox = createEl('input', 'onbe-checkbox') as HTMLInputElement;\n      checkbox.type = 'checkbox';\n      applyStyles(checkbox, {\n        width: '18px',\n        height: '18px',\n        cursor: 'pointer'\n      });\n      \n      const checkboxText = createEl('span', 'onbe-checkbox-text', 'I have read and agree to the terms and conditions');\n      applyStyles(checkboxText, {\n        fontSize: '14px',\n        color: '#333'\n      });\n      \n      checkboxLabel.appendChild(checkbox);\n      checkboxLabel.appendChild(checkboxText);\n      \n      const buttonsContainer = createEl('div', 'onbe-buttons-container');\n      applyStyles(buttonsContainer, {\n        display: 'flex',\n        gap: '12px'\n      });\n      \n      const declineBtn = createEl('button', 'onbe-decline-btn', 'Decline');\n      applyStyles(declineBtn, {\n        flex: '1',\n        padding: '12px',\n        background: '#fff',\n        color: '#666',\n        border: '2px solid #e0e0e0',\n        borderRadius: '8px',\n        fontSize: '15px',\n        fontWeight: '600',\n        cursor: 'pointer'\n      });\n      \n      const acceptBtn = createEl('button', 'onbe-accept-btn', 'Accept');\n      applyStyles(acceptBtn, {\n        flex: '1',\n        padding: '12px',\n        background: this.cfg.primaryColor || '#0b6cff',\n        color: 'white',\n        border: 'none',\n        borderRadius: '8px',\n        fontSize: '15px',\n        fontWeight: '600',\n        cursor: 'not-allowed',\n        opacity: '0.5'\n      });\n      (acceptBtn as HTMLButtonElement).disabled = true;\n      \n      // Checkbox change handler\n      checkbox.addEventListener('change', () => {\n        if (checkbox.checked) {\n          (acceptBtn as HTMLButtonElement).disabled = false;\n          applyStyles(acceptBtn, { cursor: 'pointer', opacity: '1' });\n        } else {\n          (acceptBtn as HTMLButtonElement).disabled = true;\n          applyStyles(acceptBtn, { cursor: 'not-allowed', opacity: '0.5' });\n        }\n      });\n      \n      // Accept button handler\n      acceptBtn.addEventListener('click', async () => {\n        if (!(acceptBtn as HTMLButtonElement).disabled) {\n          holder.innerHTML = '';\n          const selectedMethod = await this.showPayoutMethodSelection();\n          await this.handlePayoutSelection(selectedMethod);\n          resolve();\n        }\n      });\n      \n      // Decline button handler\n      declineBtn.addEventListener('click', () => {\n        holder.innerHTML = '';\n        const declineMsg = createEl('div', 'onbe-decline-msg', 'You have declined the terms. Please refresh to try again.');\n        applyStyles(declineMsg, {\n          textAlign: 'center',\n          padding: '20px',\n          color: '#666',\n          fontSize: '14px'\n        });\n        holder.appendChild(declineMsg);\n      });\n      \n      buttonsContainer.appendChild(declineBtn);\n      buttonsContainer.appendChild(acceptBtn);\n      \n      termsContainer.appendChild(title);\n      termsContainer.appendChild(description);\n      termsContainer.appendChild(linksBox);\n      termsContainer.appendChild(checkboxLabel);\n      termsContainer.appendChild(buttonsContainer);\n      \n      holder.appendChild(termsContainer);\n    });\n  }\n\n  private async fetchAndRenderCard() {\n    // Show loading state\n    this.showLoadingBar('Loading your card...');\n    \n    try {\n      const details = await this.fetchCardDetails();\n      this.hideLoadingBar();\n      this.renderCard(details);\n\n      const cvv = await this.fetchCvv(details.partner_user_id, details.programId);\n      this.renderDetailsBox({\n        cardNumber: details.cardNumber,\n        cvv: cvv.slice(0, 3),\n        firstName: details.firstName,\n        lastName: details.lastName,\n        exp_month: details.exp_month,\n        exp_year: details.exp_year\n      });\n    } catch (err) {\n      console.error('RebateSDK: Failed to fetch and render card', err);\n      this.hideLoadingBar();\n      // Show error message in container\n      if (this.rootEl) {\n        const errorEl = createEl('div', 'onbe-error');\n        applyStyles(errorEl, {\n          color: '#d32f2f',\n          padding: '12px',\n          textAlign: 'center',\n          fontSize: '14px'\n        });\n        errorEl.textContent = 'Unable to load card details. Please try again later.';\n        this.rootEl.appendChild(errorEl);\n      }\n    }\n  }\n\n  private showLoadingBar(message: string = 'Loading your card...') {\n    if (!this.rootEl) return;\n    \n    const loadingContainer = createEl('div', 'onbe-loading-container');\n    applyStyles(loadingContainer, {\n      padding: '24px',\n      textAlign: 'center'\n    });\n\n    const loadingText = createEl('div', 'onbe-loading-text', message);\n    applyStyles(loadingText, {\n      fontSize: '14px',\n      color: '#666',\n      marginBottom: '16px',\n      fontWeight: '500'\n    });\n\n    const progressBarBg = createEl('div', 'onbe-progress-bg');\n    applyStyles(progressBarBg, {\n      width: '100%',\n      height: '6px',\n      background: '#e0e0e0',\n      borderRadius: '3px',\n      overflow: 'hidden',\n      position: 'relative'\n    });\n\n    const progressBar = createEl('div', 'onbe-progress-bar');\n    applyStyles(progressBar, {\n      width: '0%',\n      height: '100%',\n      background: `linear-gradient(90deg, ${this.cfg.primaryColor || '#0b6cff'}, ${this.cfg.secondaryColor || '#6ec1ff'})`,\n      borderRadius: '3px',\n      transition: 'width 0.3s ease',\n      animation: 'onbe-progress 2s ease-in-out infinite'\n    });\n\n    // Add CSS animation\n    const style = createEl('style');\n    style.innerHTML = `\n      @keyframes onbe-progress {\n        0% { width: 0%; }\n        50% { width: 70%; }\n        100% { width: 100%; }\n      }\n    `;\n    document.head.appendChild(style);\n\n    progressBarBg.appendChild(progressBar);\n    loadingContainer.appendChild(loadingText);\n    loadingContainer.appendChild(progressBarBg);\n    \n    const holder = this.rootEl.querySelector('.onbe-rebate-card-holder') as HTMLElement;\n    if (holder) {\n      holder.appendChild(loadingContainer);\n    }\n  }\n\n  private hideLoadingBar() {\n    if (!this.rootEl) return;\n    const holder = this.rootEl.querySelector('.onbe-rebate-card-holder') as HTMLElement;\n    if (holder) {\n      const loadingContainer = holder.querySelector('.onbe-loading-container');\n      if (loadingContainer) {\n        loadingContainer.remove();\n      }\n    }\n  }\n\n  private async fetchCardDetails(): Promise<CardDetails> {\n    // Try fetching from backend SERVER_URL first\n    const createAndLoadPayload = {\n      \"keyValue\": [\n        {\n          \"key\": \"example_key\",\n          \"value\": \"example_value\"\n        }\n      ],\n      \"partner_user_id\": \"\",\n      \"program_id\": \"04016113\",\n      \"promotion_id\": \"1\",\n      \"transaction_id\": crypto.randomUUID(),\n      \"accessLevel\": 1,\n      \"accountPersonalized\": \"TRUE\",\n      \"card\": {\n        \"cardAccessLevel\": 1\n      },\n      \"load\": {\n        \"amount\": 1,\n        \"comment\": \"testadd\",\n        \"keyValue\": [\n          {\n            \"key\": \"\",\n            \"value\": \"683\"\n          }\n        ],\n        \"claimable\": 0,\n        \"notificationIndicator\": 0,\n        \"templateId\": \"363\"\n      },\n      \"registration\": {\n        \"addenda\": {\n          \"reference_1\": \"\",\n          \"reference_2\": \"\",\n          \"reference_3\": \"\",\n          \"reference_4\": \"\"\n        },\n        \"address1\": \"test address1\",\n        \"address2\": \"test address2\",\n        \"address3\": \"test address3\",\n        \"address4\": \"test address4\",\n        \"businessEmail\": \"vijay.prasad@onbe.com\",\n        \"businessPhone\": \"610-234-4564\",\n        \"city\": \"Conshohocken\",\n        \"country\": \"US\",\n        \"date_of_birth\": \"01/02/1993\",\n        \"emailAddress\": \"vijay.prasad@onbe.com\",\n        \"firstName\": \"Walter\",\n        \"homeEmail\": \"vijay.prasad+test@onbe.com\",\n        \"homePhone\": \"610-123-4567\",\n        \"keyValue\": [\n          {\n            \"key\": \"example_key\",\n            \"value\": \"example_value\"\n          }\n        ],\n        \"lastName\": \"White\",\n        \"middleName\": \"\",\n        \"mobileEmail\": \"vijay.prasad@onbe.com\",\n        \"mobilePhone\": \"610-123-4567\",\n        \"phone\": \"610-123-4567\",\n        \"postal\": \"19428\",\n        \"ssn\": \"987654321\",\n        \"state\": \"PA\",\n        \"suffixName\": \"Ms.\",\n        \"notificationIndicator\": 0\n      }\n    };\n\n    try {\n      const createAndLoadURL = CONFIG.SERVER_URL + CONFIG.CREATE_ACCOUNT;\n      const resp = await fetch(createAndLoadURL, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(createAndLoadPayload),\n        cache: 'no-store'\n      });\n      console.log('RebateSDK: fetch to', createAndLoadURL, 'status', resp.status);\n      if (resp.ok) {\n        const data = await resp.json();\n        console.log('RebateSDK: server response', data);\n        return data.data as CardDetails;\n      } else {\n        console.warn('RebateSDK: server returned non-ok status', resp.status);\n      }\n    } catch (err) {\n      console.warn('RebateSDK: failed to fetch from server, falling back to mock', err);\n    }\n\n    // Fallback: simulated/mock response (keeps demo working offline)\n    await new Promise((r) => setTimeout(r, 600));\n    return DEFAULT_CARD;\n  }\n\n  private async fetchCvv(partner_user_id: string, programId: string): Promise<string> {\n    const getCvvUrl =\n        CONFIG.SERVER_URL + CONFIG.GET_CVV\n          + `?partnerUserId=${encodeURIComponent(partner_user_id)}&programId=${encodeURIComponent(programId)}`;\n    try {\n      const resp = await fetch(getCvvUrl, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        cache: 'no-store'\n      });\n      console.log('RebateSDK: fetch CVV to', getCvvUrl, 'status', resp.status);\n      if (resp.ok) {\n        const data = await resp.json();\n        console.log('RebateSDK: CVV response', data);\n        const decryptedCvv = await this.decrypt(data.cvv);\n        return decryptedCvv as string;\n      } else {\n        console.warn('RebateSDK: CVV fetch returned non-ok status', resp.status);\n      }\n    } catch (err) {\n      console.warn(\"RebateSDK: failed to fetch CVV\", err);\n    }\n    return '123'; // Fallback CVV\n  }\n\n  private async decrypt(encryptedData: string): Promise<string> {\n    const sharedSecret = \"a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e\";\n\n    try {\n      const encryptedBuffer = Uint8Array.from(atob(encryptedData), c => c.charCodeAt(0));\n\n      const ivSize = 16;\n      const iv = encryptedBuffer.slice(0, ivSize);\n\n      const encrypted = encryptedBuffer.slice(ivSize);\n\n      const encoder = new TextEncoder();\n      const secretBuffer = encoder.encode(sharedSecret);\n      const hashBuffer = await crypto.subtle.digest('SHA-256', secretBuffer);\n      const key = new Uint8Array(hashBuffer).slice(0, 32); // Take first 32 bytes\n\n      const cryptoKey = await crypto.subtle.importKey(\n          'raw',\n          key,\n          { name: 'AES-CBC' },\n          false,\n          ['decrypt']\n      );\n\n      const decryptedBuffer = await crypto.subtle.decrypt(\n          { name: 'AES-CBC', iv: iv },\n          cryptoKey,\n          encrypted\n      );\n\n      const decoder = new TextDecoder();\n      return decoder.decode(decryptedBuffer);\n    } catch (err: any) {\n      throw new Error('Decryption failed: ' + err.message);\n    }\n  }\n\n  private maskCardNumber(cardNumber: string): string {\n    // Extract last 4 digits\n    console.log(cardNumber)\n    const last4 = cardNumber.replace(/\\s/g, '').slice(-4);\n    return `•••• •••• •••• ${last4}`;\n  }\n\n  private renderCard(details: CardDetails) {\n    if (!this.rootEl) return;\n    const holder = this.rootEl.querySelector('.onbe-rebate-card-holder') as HTMLElement;\n    if (!holder) return;\n    holder.innerHTML = '';\n\n    const cardEl = createEl('div', 'onbe-card');\n    applyStyles(cardEl, this.cardStyles());\n    \n    // Mask the card number for display on card\n    const maskedNumber = this.maskCardNumber(details.cardNumberMasked);\n\n  // name row previously shown above the card image - will render inside the card below the number\n\n    // Card image area\n    const cardImage = createEl('div', 'onbe-card-image');\n    applyStyles(cardImage, {\n      marginTop: '12px',\n      position: 'relative',\n      width: '100%',\n      paddingBottom: '63%', // This creates the proper aspect ratio (1.586:1)\n      background: `linear-gradient(135deg, ${this.cfg.primaryColor || '#0b6cff'}, ${this.cfg.secondaryColor || '#6ec1ff'})`,\n      borderRadius: '12px',\n      color: '#fff',\n      boxSizing: 'border-box',\n      overflow: 'hidden'\n    });\n\n    // Inner container for content with absolute positioning\n    const cardContent = createEl('div', 'onbe-card-content');\n    applyStyles(cardContent, {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      padding: '16px',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'flex-start'\n    });\n    cardImage.appendChild(cardContent);\n\n    // Company name inside top-left of the card image (if provided)\n    if (this.cfg.companyName) {\n      const companyInCard = createEl('div', 'onbe-company-in-card', this.cfg.companyName);\n      applyStyles(companyInCard, {\n        position: 'absolute',\n        top: '12px',\n        left: '16px',\n        fontSize: '14px',\n        fontWeight: '700',\n        color: 'rgba(255,255,255,0.95)'\n      });\n      cardImage.appendChild(companyInCard);\n    }\n\n    // icons removed per request — no visual icon will be rendered on the card\n\n    // Middle area for card number (masked)\n    const numberEl = createEl('div', 'onbe-card-number', maskedNumber);\n    applyStyles(numberEl, {\n      fontSize: '20px',\n      letterSpacing: '2px',\n      fontFamily: 'monospace',\n      fontWeight: '500',\n      whiteSpace: 'nowrap',\n      textAlign: 'left',\n      margin: '74px 0 8px 16px', // top right bottom left -> left offset matches card padding\n      overflow: 'hidden',\n      textOverflow: 'ellipsis'\n    });\n    cardContent.appendChild(numberEl);\n\n    // Cardholder name inside the card, right-justified and below the number\n    const nameInside = createEl('div', 'onbe-cardholder-name', details.firstName + ' ' + details.lastName);\n    applyStyles(nameInside, {\n      fontSize: '14px',\n      fontWeight: '600',\n      color: 'rgba(255,255,255,0.95)',\n      textAlign: 'left',\n      marginTop: '6px',\n      marginLeft: '16px'\n    });\n    cardContent.appendChild(nameInside);\n\n    // Bottom area for metadata\n    const metaRow = createEl('div', 'onbe-card-meta');\n    applyStyles(metaRow, { \n      display: 'flex', \n      justifyContent: 'space-between',\n      alignItems: 'flex-end',  // This ensures bottom alignment\n      marginTop: 'auto'\n    });\n    \n    const expiry = createEl('div', 'onbe-card-expiry');\n    applyStyles(expiry, { \n      display: 'flex',\n      flexDirection: 'column',\n      gap: '1px'\n    });\n    expiry.innerHTML = `\n      <div style=\"color:rgba(255,255,255,0.7);font-size:9px;text-transform:uppercase;margin-bottom:1px\">Exp</div>\n      <div style=\"font-size:13px\">${`${details.exp_month}/${details.exp_year}` || ''}</div>\n    `;\n\n    const cvv = createEl('div', 'onbe-card-cvv');\n    applyStyles(cvv, { \n      textAlign: 'right',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '1px'\n    });\n    cvv.innerHTML = `\n      <div style=\"color:rgba(255,255,255,0.7);font-size:9px;text-transform:uppercase;margin-bottom:1px\">CVV</div>\n      <div style=\"font-size:13px\">•••</div>\n    `;\n\n  metaRow.appendChild(expiry);\n  metaRow.appendChild(cvv);\n  // Put the metadata inside the card content so flex can bottom-align it\n  cardContent.appendChild(metaRow);\n\n    cardEl.appendChild(cardImage);\n\n    // Available Balance Display\n    const balanceContainer = createEl('div', 'onbe-balance-container');\n    applyStyles(balanceContainer, {\n      marginTop: '20px',\n      textAlign: 'center',\n    });\n\n    // Subtle divider line above balance\n    const dividerLine = createEl('div', 'onbe-balance-divider');\n    applyStyles(dividerLine, {\n      width: '60%',\n      height: '1px',\n      background: 'linear-gradient(90deg, transparent, #e0e0e0, transparent)',\n      margin: '0 auto 16px auto'\n    });\n    balanceContainer.appendChild(dividerLine);\n\n    const balanceAmount = (details.available || 0) / 100; // Convert cents to dollars\n    \n    // Balance label\n    const balanceLabel = createEl('div', 'onbe-balance-label', 'Available Balance');\n    applyStyles(balanceLabel, {\n      fontSize: '14px',\n      fontWeight: '500',\n      color: '#666',\n      marginBottom: '4px'\n    });\n\n    // Balance amount\n    const balanceAmountEl = createEl('div', 'onbe-balance-amount', `$${balanceAmount.toFixed(2)}`);\n    applyStyles(balanceAmountEl, {\n      fontSize: '28px',\n      fontWeight: '700',\n      color: this.cfg.primaryColor || '#0b6cff',\n      lineHeight: '1.2'\n    });\n    \n    balanceContainer.appendChild(balanceLabel);\n    balanceContainer.appendChild(balanceAmountEl);\n    cardEl.appendChild(balanceContainer);\n\n    // Bottom-centered view details button to flip card\n    const rotateBtn = createEl('button', 'onbe-rotate-btn', 'View details');\n    rotateBtn.setAttribute('aria-label', 'View card details');\n    applyStyles(rotateBtn, {\n      position: 'absolute',\n      bottom: '10px',\n      left: '50%',\n      transform: 'translateX(-50%)',\n      padding: '6px 10px',\n      borderRadius: '999px',\n      border: 'none',\n      background: 'rgba(0,0,0,0.35)',\n      color: '#fff',\n      cursor: 'pointer',\n      fontSize: '12px',\n      fontWeight: '600'\n    });\n    cardImage.appendChild(rotateBtn);\n\n    // Back overlay for card back view (same visual style as front, but unmasked)\n    const backOverlay = createEl('div', 'onbe-card-back');\n    applyStyles(backOverlay, {\n      position: 'absolute',\n      inset: '0',\n      display: 'none',\n      background: `linear-gradient(135deg, ${this.cfg.primaryColor || '#0b6cff'}, ${this.cfg.secondaryColor || '#6ec1ff'})`,\n      borderRadius: '12px',\n      color: '#fff',\n      boxSizing: 'border-box'\n    });\n    const backContent = createEl('div', 'onbe-card-content-back');\n    applyStyles(backContent, {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      padding: '16px',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'flex-start'\n    });\n\n    if (this.cfg.companyName) {\n      const companyBack = createEl('div', 'onbe-company-in-card-back', this.cfg.companyName);\n      applyStyles(companyBack, {\n        position: 'absolute',\n        top: '12px',\n        left: '16px',\n        fontSize: '14px',\n        fontWeight: '700',\n        color: 'rgba(255,255,255,0.95)'\n      });\n      backOverlay.appendChild(companyBack);\n    }\n\n    // Unmasked card number in same position/typography as front\n    const numberBack = createEl('div', 'onbe-back-card-number', details.cardNumber);\n    applyStyles(numberBack, {\n      fontSize: '20px',\n      letterSpacing: '2px',\n      fontFamily: 'monospace',\n      fontWeight: '500',\n      whiteSpace: 'nowrap',\n      textAlign: 'left',\n      margin: '74px 0 8px 16px',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis'\n    });\n    backContent.appendChild(numberBack);\n\n    const nameBack = createEl('div', 'onbe-cardholder-name-back', details.firstName + ' ' + details.lastName);\n    applyStyles(nameBack, {\n      fontSize: '14px',\n      fontWeight: '600',\n      color: 'rgba(255,255,255,0.95)',\n      textAlign: 'left',\n      marginTop: '6px',\n      marginLeft: '16px'\n    });\n    backContent.appendChild(nameBack);\n\n    const metaRowBack = createEl('div', 'onbe-card-meta-back');\n    applyStyles(metaRowBack, { \n      display: 'flex', \n      justifyContent: 'space-between',\n      alignItems: 'flex-end',\n      marginTop: 'auto'\n    });\n\n    const expiryBack = createEl('div', 'onbe-card-expiry-back');\n    applyStyles(expiryBack, { display: 'flex', flexDirection: 'column', gap: '1px' });\n    expiryBack.innerHTML = `\n      <div style=\"color:rgba(255,255,255,0.7);font-size:9px;text-transform:uppercase;margin-bottom:1px\">Exp</div>\n      <div style=\"font-size:13px\">${`${details.exp_month}/${details.exp_year}` || ''}</div>\n    `;\n\n    const cvvBack = createEl('div', 'onbe-card-cvv-back');\n    applyStyles(cvvBack, { textAlign: 'right', display: 'flex', flexDirection: 'column', gap: '1px' });\n    cvvBack.innerHTML = `\n      <div style=\"color:rgba(255,255,255,0.7);font-size:9px;text-transform:uppercase;margin-bottom:1px\">CVV</div>\n      <div class=\"onbe-back-cvv-value\" style=\"font-size:13px\">•••</div>\n    `;\n\n    metaRowBack.appendChild(expiryBack);\n    metaRowBack.appendChild(cvvBack);\n    backContent.appendChild(metaRowBack);\n\n    // Bottom-centered hide details button on back\n    const rotateBackBtn = createEl('button', 'onbe-rotate-back-btn', 'Hide details');\n    rotateBackBtn.setAttribute('aria-label', 'Hide card details');\n    applyStyles(rotateBackBtn, {\n      position: 'absolute',\n      bottom: '10px',\n      left: '50%',\n      transform: 'translateX(-50%)',\n      padding: '6px 10px',\n      borderRadius: '999px',\n      border: 'none',\n      background: 'rgba(0,0,0,0.35)',\n      color: '#fff',\n      cursor: 'pointer',\n      fontSize: '12px',\n      fontWeight: '600'\n    });\n    backOverlay.appendChild(rotateBackBtn);\n\n    backOverlay.appendChild(backContent);\n\n    cardImage.appendChild(backOverlay);\n\n    let showingBack = false;\n    const setSide = (back: boolean) => {\n      showingBack = back;\n      backOverlay.style.display = back ? 'block' : 'none';\n      cardContent.style.display = back ? 'none' : 'flex';\n    };\n    rotateBtn.addEventListener('click', () => setSide(true));\n    rotateBackBtn.addEventListener('click', () => setSide(false));\n\n    holder.appendChild(cardEl);\n    \n    // Add \"Add to Wallet\" button\n    this.renderAddToWalletButton(holder);\n  }\n\n  private renderDetailsBox(details: any) {\n    if (!this.rootEl) return;\n    // Populate back-of-card values instead of a separate details box\n    const cvvEl = this.rootEl.querySelector('.onbe-back-cvv-value') as HTMLElement | null;\n    if (cvvEl && details.cvv) {\n      cvvEl.textContent = details.cvv;\n    }\n    const panEl = this.rootEl.querySelector('.onbe-back-card-number') as HTMLElement | null;\n    if (panEl && details.cardNumber) {\n      panEl.textContent = details.cardNumber;\n    }\n  }\n\n  private renderAddToWalletButton(holder: HTMLElement) {\n    const walletContainer = createEl('div', 'onbe-wallet-container');\n    applyStyles(walletContainer, {\n      marginTop: '16px',\n      display: 'flex',\n      justifyContent: 'center'\n    });\n\n    const walletBtn = createEl('button', 'onbe-wallet-btn') as HTMLButtonElement;\n    applyStyles(walletBtn, {\n      width: '100%',\n      maxWidth: '320px',\n      padding: '12px 16px',\n      background: this.cfg.buttonColor || '#00897b',\n      color: '#fff',\n      border: 'none',\n      borderRadius: '8px',\n      fontSize: '15px',\n      fontWeight: '600',\n      cursor: 'pointer',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: '8px',\n      transition: 'background 0.2s'\n    });\n\n    // Wallet icon\n    const walletIcon = `\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\" fill=\"currentColor\"/>\n      </svg>\n    `;\n\n    walletBtn.innerHTML = `${walletIcon}<span>Add to Apple Pay</span>`;\n\n    walletBtn.addEventListener('mouseenter', () => {\n      if (!walletBtn.disabled) {\n        applyStyles(walletBtn, { background: this.cfg.buttonHoverColor || '#00695c' });\n      }\n    });\n\n    walletBtn.addEventListener('mouseleave', () => {\n      if (!walletBtn.disabled) {\n        applyStyles(walletBtn, { background: this.cfg.buttonColor || '#00897b' });\n      }\n    });\n\n    walletBtn.addEventListener('click', async () => {\n      await this.showAddToWalletFullScreen();\n      \n      // After returning from Add to Wallet flow, disable button and show success state\n      walletBtn.disabled = true;\n      applyStyles(walletBtn, {\n        background: '#e0e0e0',\n        color: '#666',\n        cursor: 'not-allowed'\n      });\n      \n      // Checkmark icon (themed to match other icons)\n      const checkmark = `\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <path d=\"M9 12l2 2 4-4\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\"/>\n        </svg>\n      `;\n      \n      walletBtn.innerHTML = `<span>Card added to wallet</span>${checkmark}`;\n    });\n\n    walletContainer.appendChild(walletBtn);\n    holder.appendChild(walletContainer);\n  }\n  \n  private async showAddToWalletFullScreen(): Promise<void> {\n    if (!this.rootEl) return;\n    \n    // Create full-screen overlay with browser mockup\n    const overlay = createEl('div', 'onbe-wallet-overlay');\n    applyStyles(overlay, {\n      position: 'fixed',\n      top: '0',\n      left: '0',\n      width: '100vw',\n      height: '100vh',\n      backgroundColor: '#f5f5f7',\n      zIndex: '99999',\n      display: 'flex',\n      flexDirection: 'column'\n    });\n    \n    // Content area (moved to top, before URL bar for iOS Safari style)\n    const contentArea = createEl('div', 'onbe-content-area');\n    applyStyles(contentArea, {\n      flex: '1',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      backgroundColor: '#fff',\n      padding: '40px 20px 20px',\n      overflow: 'auto'\n    });\n    \n    // Card preview (always visible, positioned at top) - larger size to match image\n    const cardPreview = createEl('div', 'onbe-card-preview');\n    applyStyles(cardPreview, {\n      width: '90%',\n      maxWidth: '320px',\n      aspectRatio: '1.586',\n      background: `linear-gradient(135deg, ${this.cfg.primaryColor || '#4db6ac'}, ${this.cfg.secondaryColor || '#80cbc4'})`,\n      borderRadius: '16px',\n      boxShadow: '0 8px 24px rgba(0,0,0,0.15)',\n      color: '#fff',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      padding: '20px',\n      marginBottom: '24px'\n    });\n    \n    // Company logo/name on card\n    if (this.cfg.companyName) {\n      const logoContainer = createEl('div', 'onbe-card-logo-container');\n      applyStyles(logoContainer, {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '8px'\n      });\n      \n      const logoBox = createEl('div', 'onbe-card-logo');\n      applyStyles(logoBox, {\n        width: '32px',\n        height: '32px',\n        backgroundColor: 'rgba(255,255,255,0.3)',\n        borderRadius: '6px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        fontSize: '14px',\n        fontWeight: '700'\n      });\n      logoBox.textContent = this.cfg.companyName.substring(0, 2).toUpperCase();\n      \n      const companyEl = createEl('div', 'onbe-card-company', this.cfg.companyName);\n      applyStyles(companyEl, {\n        fontSize: '13px',\n        fontWeight: '600'\n      });\n      \n      logoContainer.appendChild(logoBox);\n      logoContainer.appendChild(companyEl);\n      cardPreview.appendChild(logoContainer);\n    }\n    \n    // Card number\n    const cardNumber = createEl('div', 'onbe-card-number', '•••• 3923');\n    applyStyles(cardNumber, {\n      fontSize: '18px',\n      fontFamily: 'monospace',\n      letterSpacing: '2px',\n      textAlign: 'left'\n    });\n    cardPreview.appendChild(cardNumber);\n    \n    // Status container (for spinner and success message)\n    const statusContainer = createEl('div', 'onbe-status-container');\n    applyStyles(statusContainer, {\n      textAlign: 'center',\n      flex: '1',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      width: '100%',\n      maxWidth: '320px'\n    });\n    \n    contentArea.appendChild(cardPreview);\n    contentArea.appendChild(statusContainer);\n    \n    // Browser chrome footer (iOS Safari style - URL bar at bottom)\n    const browserFooter = createEl('div', 'onbe-browser-footer');\n    applyStyles(browserFooter, {\n      backgroundColor: '#fff',\n      borderTop: '1px solid #d1d1d6',\n      padding: '8px 12px 20px',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '8px'\n    });\n    \n    // URL bar at bottom\n    const urlBar = createEl('div', 'onbe-url-bar');\n    applyStyles(urlBar, {\n      backgroundColor: '#f5f5f7',\n      borderRadius: '8px',\n      padding: '8px 12px',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px',\n      fontSize: '13px',\n      color: '#333'\n    });\n    \n    // AA text size icon\n    const aaIcon = createEl('div', 'onbe-aa-icon', 'aA');\n    applyStyles(aaIcon, {\n      fontSize: '14px',\n      fontWeight: '600',\n      color: '#333'\n    });\n    \n    // Lock icon\n    const lockIcon = `<svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\"><rect x=\"5\" y=\"11\" width=\"14\" height=\"10\" rx=\"2\" stroke=\"#8E8E93\" stroke-width=\"2\"/><path d=\"M8 11V7a4 4 0 0 1 8 0v4\" stroke=\"#8E8E93\" stroke-width=\"2\"/></svg>`;\n    const lockEl = createEl('div', 'onbe-lock');\n    lockEl.innerHTML = lockIcon;\n    \n    const urlText = createEl('div', 'onbe-url-text', 'apple-pay.apple.com');\n    applyStyles(urlText, {\n      flex: '1',\n      color: '#333'\n    });\n    \n    // Refresh icon\n    const refreshIcon = `<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M4 12a8 8 0 1 1 0 .01\" stroke=\"#8E8E93\" stroke-width=\"2\" stroke-linecap=\"round\"/><path d=\"M4 6v6h6\" stroke=\"#8E8E93\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>`;\n    const refreshEl = createEl('div', 'onbe-refresh');\n    refreshEl.innerHTML = refreshIcon;\n    \n    urlBar.appendChild(aaIcon);\n    urlBar.appendChild(lockEl);\n    urlBar.appendChild(urlText);\n    urlBar.appendChild(refreshEl);\n    \n    // Navigation controls at bottom\n    const navControls = createEl('div', 'onbe-nav-controls');\n    applyStyles(navControls, {\n      display: 'flex',\n      justifyContent: 'space-around',\n      alignItems: 'center',\n      padding: '4px 12px'\n    });\n    \n    // iOS Safari navigation icons (matching reference image)\n    const backArrow = `<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\"><path d=\"M17 21l-7-7 7-7\" stroke=\"#007AFF\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>`;\n    const forwardArrow = `<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\"><path d=\"M11 21l7-7-7-7\" stroke=\"#8E8E93\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>`;\n    const shareIcon = `<svg width=\"24\" height=\"28\" viewBox=\"0 0 24 28\" fill=\"none\"><path d=\"M12 4v16\" stroke=\"#007AFF\" stroke-width=\"2\" stroke-linecap=\"round\"/><path d=\"M7 9l5-5 5 5\" stroke=\"#007AFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M5 21h14\" stroke=\"#007AFF\" stroke-width=\"2.5\" stroke-linecap=\"round\"/></svg>`;\n    const bookIcon = `<svg width=\"24\" height=\"28\" viewBox=\"0 0 24 28\" fill=\"none\"><path d=\"M5 5v16c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H7c-1.1 0-2 .9-2 2z\" stroke=\"#007AFF\" stroke-width=\"2\" stroke-linecap=\"round\"/><path d=\"M5 8h14\" stroke=\"#007AFF\" stroke-width=\"2\" stroke-linecap=\"round\"/></svg>`;\n    const tabsIcon = `<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\"><rect x=\"7\" y=\"7\" width=\"14\" height=\"10\" rx=\"1.5\" stroke=\"#007AFF\" stroke-width=\"2\"/><path d=\"M21 12h-3m0 5h3\" stroke=\"#007AFF\" stroke-width=\"2\" stroke-linecap=\"round\"/></svg>`;\n    \n    const backBtn = createEl('div', 'onbe-nav-btn');\n    backBtn.innerHTML = backArrow;\n    const forwardBtn = createEl('div', 'onbe-nav-btn');\n    forwardBtn.innerHTML = forwardArrow;\n    const shareBtn = createEl('div', 'onbe-nav-btn');\n    shareBtn.innerHTML = shareIcon;\n    const bookBtn = createEl('div', 'onbe-nav-btn');\n    bookBtn.innerHTML = bookIcon;\n    const tabsBtn = createEl('div', 'onbe-nav-btn');\n    tabsBtn.innerHTML = tabsIcon;\n    \n    navControls.appendChild(backBtn);\n    navControls.appendChild(forwardBtn);\n    navControls.appendChild(shareBtn);\n    navControls.appendChild(bookBtn);\n    navControls.appendChild(tabsBtn);\n    \n    browserFooter.appendChild(urlBar);\n    browserFooter.appendChild(navControls);\n    \n    overlay.appendChild(contentArea);\n    overlay.appendChild(browserFooter);\n    document.body.appendChild(overlay);\n    \n    // Show loading state\n    this.showAddingCardSpinner(statusContainer);\n    \n    // Simulate adding to wallet process\n    await new Promise(resolve => setTimeout(resolve, 2000));\n    \n    // Show success state\n    this.showCardAddedSuccess(statusContainer, overlay);\n  }\n  \n  private showAddingCardSpinner(container: HTMLElement): void {\n    container.innerHTML = '';\n    \n    // Status row with text first, then spinner (matching Card Added style)\n    const statusRow = createEl('div', 'onbe-wallet-status-row');\n    applyStyles(statusRow, {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: '8px',\n      fontSize: '18px',\n      fontWeight: '600',\n      color: '#000',\n      marginBottom: '12px'\n    });\n    \n    const loadingText = createEl('span', 'onbe-wallet-loading-text', 'Adding Card');\n    \n    // Circular spinner (matching Done button blue)\n    const spinner = createEl('div', 'onbe-wallet-spinner');\n    const spinnerSvg = `\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" style=\"animation: spin 1s linear infinite; display: inline-block;\">\n        <style>\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        </style>\n        <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"#007AFF\" stroke-width=\"3\" fill=\"none\" stroke-dasharray=\"60\" stroke-dashoffset=\"15\" stroke-linecap=\"round\"/>\n      </svg>\n    `;\n    spinner.innerHTML = spinnerSvg;\n    \n    statusRow.appendChild(loadingText);\n    statusRow.appendChild(spinner);\n    container.appendChild(statusRow);\n  }\n  \n  private showCardAddedSuccess(container: HTMLElement, overlay: HTMLElement): void {\n    container.innerHTML = '';\n    \n    // Status row with text first, then checkmark (matching layout)\n    const statusRow = createEl('div', 'onbe-wallet-status-row');\n    applyStyles(statusRow, {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: '8px',\n      fontSize: '18px',\n      fontWeight: '600',\n      color: '#000',\n      marginBottom: '12px'\n    });\n    \n    const successText = createEl('span', 'onbe-success-text', 'Card Added');\n    \n    const checkmark = `\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" style=\"display: inline-block;\">\n        <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#34C759\"/>\n        <path d=\"M8 12l3 3 5-5\" stroke=\"white\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n      </svg>\n    `;\n    \n    const checkmarkEl = createEl('div', 'onbe-checkmark');\n    checkmarkEl.innerHTML = checkmark;\n    \n    statusRow.appendChild(successText);\n    statusRow.appendChild(checkmarkEl);\n    \n    // Success message (using \"your\" instead of customer name)\n    const successMessage = createEl('div', 'onbe-wallet-success-message', \n      `Virtual Card is ready for Apple Pay on your selected devices.`);\n    applyStyles(successMessage, {\n      fontSize: '13px',\n      color: '#666',\n      lineHeight: '1.5',\n      marginBottom: 'auto',\n      padding: '0 20px',\n      textAlign: 'center'\n    });\n    \n    // Done button (positioned at bottom of status container)\n    const doneBtn = createEl('button', 'onbe-done-btn', 'Done');\n    applyStyles(doneBtn, {\n      width: '100%',\n      padding: '16px',\n      background: '#007AFF',\n      color: '#fff',\n      border: 'none',\n      borderRadius: '14px',\n      fontSize: '17px',\n      fontWeight: '600',\n      cursor: 'pointer',\n      transition: 'opacity 0.2s',\n      marginTop: '24px'\n    });\n    \n    doneBtn.addEventListener('mouseenter', () => {\n      applyStyles(doneBtn, { opacity: '0.8' });\n    });\n    \n    doneBtn.addEventListener('mouseleave', () => {\n      applyStyles(doneBtn, { opacity: '1' });\n    });\n    \n    doneBtn.addEventListener('click', () => {\n      document.body.removeChild(overlay);\n    });\n    \n    container.appendChild(statusRow);\n    container.appendChild(successMessage);\n    container.appendChild(doneBtn);\n  }\n\n  private async showPayoutMethodSelection(): Promise<PayoutMethod> {\n    return new Promise((resolve) => {\n      if (!this.rootEl) return;\n      \n      const holder = this.rootEl.querySelector('.onbe-rebate-card-holder') as HTMLElement;\n      if (!holder) return;\n      \n      holder.innerHTML = '';\n      \n      const selectionContainer = createEl('div', 'onbe-payout-selection-container');\n      applyStyles(selectionContainer, {\n        padding: '8px 20px 20px 20px',\n        maxWidth: '100%'\n      });\n      \n      const title = createEl('h3', 'onbe-payout-title', 'Choose Your Payout Method');\n      applyStyles(title, {\n        fontSize: '16px',\n        fontWeight: '600',\n        margin: '0 0 6px 0',\n        marginTop: '0',\n        textAlign: 'center',\n        color: '#333'\n      });\n      \n      const description = createEl('p', 'onbe-payout-desc', 'Select how you\\'d like to receive your refund');\n      applyStyles(description, {\n        fontSize: '14px',\n        color: '#666',\n        marginBottom: '16px',\n        textAlign: 'center',\n        lineHeight: '1.6'\n      });\n      \n      const payoutOptions: PayoutMethodOption[] = [\n        {\n          id: 'virtual_card',\n          title: 'Virtual Card',\n          description: 'Instant access, use online',\n          icon: `<svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z\" fill=\"${this.cfg.primaryColor || '#4db6ac'}\"/></svg>`,\n          enabled: true\n        },\n        {\n          id: 'bank_transfer',\n          title: 'Bank Transfer',\n          description: 'Direct deposit to account',\n          icon: `<svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M4 10h3v7H4v-7zm6.5 0h3v7h-3v-7zM2 19h20v3H2v-3zM17 10h3v7h-3v-7zM12 1L2 6v2h20V6L12 1z\" fill=\"${this.cfg.primaryColor || '#4db6ac'}\"/></svg>`,\n          enabled: true\n        },\n        {\n          id: 'request_check',\n          title: 'Request Check',\n          description: 'Mailed to your address',\n          icon: `<svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z\" fill=\"${this.cfg.primaryColor || '#4db6ac'}\"/></svg>`,\n          enabled: true\n        }\n      ];\n      \n      const optionsContainer = createEl('div', 'onbe-payout-options');\n      applyStyles(optionsContainer, {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '12px'\n      });\n      \n      payoutOptions.forEach(option => {\n        const tile = this.renderPayoutMethodOption(option, (selectedMethod) => {\n          this.selectedPayoutMethod = selectedMethod;\n          resolve(selectedMethod);\n        });\n        optionsContainer.appendChild(tile);\n      });\n      \n      selectionContainer.appendChild(title);\n      selectionContainer.appendChild(description);\n      selectionContainer.appendChild(optionsContainer);\n      holder.appendChild(selectionContainer);\n    });\n  }\n\n  private renderPayoutMethodOption(option: PayoutMethodOption, onClick: (method: PayoutMethod) => void): HTMLElement {\n    const tile = createEl('div', 'onbe-payout-tile');\n    applyStyles(tile, {\n      border: '2px solid #e0e0e0',\n      borderRadius: '12px',\n      padding: '20px',\n      background: '#fff',\n      cursor: option.enabled ? 'pointer' : 'not-allowed',\n      transition: 'all 0.2s ease',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '16px',\n      opacity: option.enabled ? '1' : '0.5'\n    });\n    \n    if (option.enabled) {\n      tile.addEventListener('mouseenter', () => {\n        applyStyles(tile, {\n          border: `2px solid ${this.cfg.primaryColor || '#4db6ac'}`,\n          background: '#f9fafb'\n        });\n      });\n      \n      tile.addEventListener('mouseleave', () => {\n        applyStyles(tile, {\n          border: '2px solid #e0e0e0',\n          background: '#fff'\n        });\n      });\n      \n      tile.addEventListener('click', () => {\n        onClick(option.id);\n      });\n    }\n    \n    // Icon container\n    const iconContainer = createEl('div', 'onbe-payout-icon');\n    iconContainer.innerHTML = option.icon;\n    applyStyles(iconContainer, {\n      flexShrink: '0',\n      width: '32px',\n      height: '32px'\n    });\n    \n    // Text container\n    const textContainer = createEl('div', 'onbe-payout-text');\n    applyStyles(textContainer, {\n      flex: '1'\n    });\n    \n    const titleEl = createEl('div', 'onbe-payout-tile-title', option.title);\n    applyStyles(titleEl, {\n      fontSize: '16px',\n      fontWeight: '600',\n      color: '#333',\n      marginBottom: '4px'\n    });\n    \n    const descEl = createEl('div', 'onbe-payout-tile-desc', option.description);\n    applyStyles(descEl, {\n      fontSize: '13px',\n      color: '#666',\n      lineHeight: '1.4'\n    });\n    \n    textContainer.appendChild(titleEl);\n    textContainer.appendChild(descEl);\n    \n    tile.appendChild(iconContainer);\n    tile.appendChild(textContainer);\n    \n    return tile;\n  }\n\n  private async showBankTransferFlow(): Promise<void> {\n    const bankAccount = await this.showBankAccountForm();\n    if (bankAccount) {\n      this.currentBankAccount = bankAccount;\n      this.renderBankAccountCard(bankAccount);\n    }\n  }\n\n  private async showBankAccountForm(): Promise<BankAccount | null> {\n    return new Promise((resolve) => {\n      if (!this.rootEl) return;\n      \n      const holder = this.rootEl.querySelector('.onbe-rebate-card-holder') as HTMLElement;\n      if (!holder) return;\n      \n      holder.innerHTML = '';\n      \n      const formContainer = createEl('div', 'onbe-bank-form-container');\n      applyStyles(formContainer, {\n        padding: '8px 20px 20px 20px',\n        maxWidth: '100%'\n      });\n      \n      // Title only (no back button)\n      const title = createEl('h3', 'onbe-bank-form-title', 'Add Bank');\n      applyStyles(title, {\n        fontSize: '16px',\n        fontWeight: '600',\n        marginTop: '0',\n        margin: '0 0 20px 0',\n        color: '#333'\n      });\n      \n      // Account Type\n      const accountTypeLabel = createEl('div', 'onbe-field-label', 'Account Type');\n      applyStyles(accountTypeLabel, {\n        fontSize: '14px',\n        fontWeight: '500',\n        color: '#333',\n        marginBottom: '8px',\n        marginTop: '16px'\n      });\n      \n      const radioContainer = createEl('div', 'onbe-radio-container');\n      applyStyles(radioContainer, {\n        display: 'flex',\n        gap: '24px',\n        marginBottom: '16px'\n      });\n      \n      const checkingLabel = createEl('label', 'onbe-radio-label');\n      applyStyles(checkingLabel, {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '8px',\n        cursor: 'pointer',\n        fontSize: '15px'\n      });\n      \n      const checkingRadio = createEl('input', 'onbe-radio-checking') as HTMLInputElement;\n      checkingRadio.type = 'radio';\n      checkingRadio.name = 'accountType';\n      checkingRadio.value = 'checking';\n      checkingRadio.checked = true;\n      applyStyles(checkingRadio, {\n        width: '18px',\n        height: '18px',\n        cursor: 'pointer'\n      });\n      \n      checkingLabel.appendChild(checkingRadio);\n      checkingLabel.appendChild(createEl('span', '', 'Checking'));\n      \n      const savingsLabel = createEl('label', 'onbe-radio-label');\n      applyStyles(savingsLabel, {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '8px',\n        cursor: 'pointer',\n        fontSize: '15px'\n      });\n      \n      const savingsRadio = createEl('input', 'onbe-radio-savings') as HTMLInputElement;\n      savingsRadio.type = 'radio';\n      savingsRadio.name = 'accountType';\n      savingsRadio.value = 'savings';\n      applyStyles(savingsRadio, {\n        width: '18px',\n        height: '18px',\n        cursor: 'pointer'\n      });\n      \n      savingsLabel.appendChild(savingsRadio);\n      savingsLabel.appendChild(createEl('span', '', 'Savings'));\n      \n      radioContainer.appendChild(checkingLabel);\n      radioContainer.appendChild(savingsLabel);\n      \n      // Bank Name\n      const bankNameInput = createEl('input', 'onbe-input-bank-name') as HTMLInputElement;\n      bankNameInput.type = 'text';\n      bankNameInput.placeholder = 'Bank Name*';\n      bankNameInput.value = 'Wells Fargo Bank';\n      applyStyles(bankNameInput, {\n        width: '100%',\n        padding: '12px',\n        border: '1px solid #d1d5db',\n        borderRadius: '8px',\n        fontSize: '15px',\n        boxSizing: 'border-box',\n        marginBottom: '16px'\n      });\n      \n      // Routing Number\n      const routingInput = createEl('input', 'onbe-input-routing') as HTMLInputElement;\n      routingInput.type = 'text';\n      routingInput.placeholder = 'Routing Number*';\n      routingInput.maxLength = 9;\n      routingInput.value = '123456898';\n      applyStyles(routingInput, {\n        width: '100%',\n        padding: '12px',\n        border: '1px solid #d1d5db',\n        borderRadius: '8px',\n        fontSize: '15px',\n        boxSizing: 'border-box',\n        marginBottom: '16px'\n      });\n      \n      // Only allow digits\n      routingInput.addEventListener('input', (e) => {\n        const target = e.target as HTMLInputElement;\n        target.value = target.value.replace(/\\D/g, '');\n      });\n      \n      // Account Number\n      const accountInput = createEl('input', 'onbe-input-account') as HTMLInputElement;\n      accountInput.type = 'text';\n      accountInput.placeholder = 'Account Number*';\n      accountInput.maxLength = 17;\n      accountInput.value = '987654622';\n      applyStyles(accountInput, {\n        width: '100%',\n        padding: '12px',\n        border: '1px solid #d1d5db',\n        borderRadius: '8px',\n        fontSize: '15px',\n        boxSizing: 'border-box',\n        marginBottom: '16px'\n      });\n      \n      accountInput.addEventListener('input', (e) => {\n        const target = e.target as HTMLInputElement;\n        target.value = target.value.replace(/\\D/g, '');\n      });\n      \n      // Confirm Account Number\n      const confirmInput = createEl('input', 'onbe-input-confirm') as HTMLInputElement;\n      confirmInput.type = 'text';\n      confirmInput.placeholder = 'Confirm Account Number*';\n      confirmInput.maxLength = 17;\n      confirmInput.value = '987654622';\n      applyStyles(confirmInput, {\n        width: '100%',\n        padding: '12px',\n        border: '1px solid #d1d5db',\n        borderRadius: '8px',\n        fontSize: '15px',\n        boxSizing: 'border-box',\n        marginBottom: '20px'\n      });\n      \n      confirmInput.addEventListener('input', (e) => {\n        const target = e.target as HTMLInputElement;\n        target.value = target.value.replace(/\\D/g, '');\n      });\n      \n      // Buttons\n      const buttonsContainer = createEl('div', 'onbe-bank-buttons');\n      applyStyles(buttonsContainer, {\n        display: 'flex',\n        gap: '12px'\n      });\n      \n      const cancelBtn = createEl('button', 'onbe-cancel-btn', 'Cancel');\n      applyStyles(cancelBtn, {\n        flex: '1',\n        padding: '12px',\n        background: '#fff',\n        color: '#666',\n        border: '2px solid #e0e0e0',\n        borderRadius: '8px',\n        fontSize: '15px',\n        fontWeight: '600',\n        cursor: 'pointer'\n      });\n      \n      cancelBtn.addEventListener('click', () => {\n        resolve(null);\n        this.showPayoutMethodSelection().then(method => {\n          this.handlePayoutSelection(method);\n        });\n      });\n      \n      const saveBtn = createEl('button', 'onbe-save-btn', 'Save') as HTMLButtonElement;\n      applyStyles(saveBtn, {\n        flex: '1',\n        padding: '12px',\n        background: this.cfg.primaryColor || '#4db6ac',\n        color: 'white',\n        border: 'none',\n        borderRadius: '8px',\n        fontSize: '15px',\n        fontWeight: '600',\n        cursor: 'not-allowed',\n        opacity: '0.5'\n      });\n      saveBtn.disabled = true;\n      \n      // Validation\n      const validateForm = () => {\n        const bankName = bankNameInput.value.trim();\n        const routing = routingInput.value.trim();\n        const account = accountInput.value.trim();\n        const confirm = confirmInput.value.trim();\n        \n        const isValid = \n          bankName.length >= 2 &&\n          routing.length === 9 &&\n          account.length >= 4 && account.length <= 17 &&\n          account === confirm;\n        \n        if (isValid) {\n          saveBtn.disabled = false;\n          applyStyles(saveBtn, { cursor: 'pointer', opacity: '1' });\n        } else {\n          saveBtn.disabled = true;\n          applyStyles(saveBtn, { cursor: 'not-allowed', opacity: '0.5' });\n        }\n      };\n      \n      bankNameInput.addEventListener('input', validateForm);\n      routingInput.addEventListener('input', validateForm);\n      accountInput.addEventListener('input', validateForm);\n      confirmInput.addEventListener('input', validateForm);\n      \n      // Run validation on initial load since fields are prefilled\n      validateForm();\n      \n      saveBtn.addEventListener('click', () => {\n        if (!saveBtn.disabled) {\n          const accountType = (checkingRadio.checked ? 'checking' : 'savings') as 'checking' | 'savings';\n          const bankAccount: BankAccount = {\n            bankName: bankNameInput.value.trim(),\n            accountType: accountType,\n            routingNumber: routingInput.value.trim(),\n            accountNumber: accountInput.value.trim(),\n            routingNumberMasked: this.maskBankNumber(routingInput.value.trim(), 3),\n            accountNumberMasked: this.maskBankNumber(accountInput.value.trim(), 3)\n          };\n          resolve(bankAccount);\n        }\n      });\n      \n      buttonsContainer.appendChild(cancelBtn);\n      buttonsContainer.appendChild(saveBtn);\n      \n      formContainer.appendChild(title);\n      formContainer.appendChild(accountTypeLabel);\n      formContainer.appendChild(radioContainer);\n      formContainer.appendChild(bankNameInput);\n      formContainer.appendChild(routingInput);\n      formContainer.appendChild(accountInput);\n      formContainer.appendChild(confirmInput);\n      formContainer.appendChild(buttonsContainer);\n      \n      holder.appendChild(formContainer);\n    });\n  }\n\n  private renderBankAccountCard(bankAccount: BankAccount): void {\n    if (!this.rootEl) return;\n    \n    const holder = this.rootEl.querySelector('.onbe-rebate-card-holder') as HTMLElement;\n    if (!holder) return;\n    \n    holder.innerHTML = '';\n    \n    // Show success toast (same pattern as login)\n    this.showToast('Bank account added successfully');\n    \n    // Card visual container (similar to virtual card)\n    const cardEl = createEl('div', 'onbe-bank-card-visual');\n    applyStyles(cardEl, {\n      maxWidth: '320px',\n      margin: '0 auto',\n      position: 'relative'\n    });\n    \n    // Bank card visual (card-like design)\n    const cardImage = createEl('div', 'onbe-bank-card-image');\n    applyStyles(cardImage, {\n      width: '100%',\n      aspectRatio: '1.586',\n      background: `linear-gradient(135deg, ${this.cfg.primaryColor || '#0b6cff'}, ${this.cfg.secondaryColor || '#6ec1ff'})`,\n      borderRadius: '16px',\n      boxShadow: '0 8px 24px rgba(0,0,0,0.15)',\n      position: 'relative',\n      color: '#fff',\n      overflow: 'hidden'\n    });\n    \n    const cardContent = createEl('div', 'onbe-bank-card-content');\n    applyStyles(cardContent, {\n      padding: '16px',\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between'\n    });\n    \n    // Bank name at top\n    const bankNameEl = createEl('div', 'onbe-bank-name-display', bankAccount.bankName);\n    applyStyles(bankNameEl, {\n      fontSize: '14px',\n      fontWeight: '700',\n      color: 'rgba(255,255,255,0.95)',\n      marginBottom: '8px'\n    });\n    cardContent.appendChild(bankNameEl);\n    \n    // Account type below bank name\n    const accountTypeEl = createEl('div', 'onbe-account-type', bankAccount.accountType.charAt(0).toUpperCase() + bankAccount.accountType.slice(1) + ' Account');\n    applyStyles(accountTypeEl, {\n      fontSize: '12px',\n      color: 'rgba(255,255,255,0.7)',\n      marginBottom: '32px'\n    });\n    cardContent.appendChild(accountTypeEl);\n    \n    // Account number (masked)\n    const accountNumberEl = createEl('div', 'onbe-account-number', bankAccount.accountNumberMasked);\n    applyStyles(accountNumberEl, {\n      fontSize: '18px',\n      letterSpacing: '2px',\n      fontFamily: 'monospace',\n      fontWeight: '500',\n      marginBottom: '8px'\n    });\n    cardContent.appendChild(accountNumberEl);\n    \n    // Routing number at bottom\n    const routingRow = createEl('div', 'onbe-routing-row');\n    applyStyles(routingRow, {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '2px',\n      marginTop: 'auto'\n    });\n    \n    const routingLabel = createEl('div', 'onbe-routing-label', 'ROUTING');\n    applyStyles(routingLabel, {\n      fontSize: '9px',\n      color: 'rgba(255,255,255,0.7)',\n      textTransform: 'uppercase'\n    });\n    \n    const routingValue = createEl('div', 'onbe-routing-value', bankAccount.routingNumberMasked);\n    applyStyles(routingValue, {\n      fontSize: '13px',\n      fontFamily: 'monospace',\n      letterSpacing: '1px'\n    });\n    \n    routingRow.appendChild(routingLabel);\n    routingRow.appendChild(routingValue);\n    cardContent.appendChild(routingRow);\n    \n    cardImage.appendChild(cardContent);\n    cardEl.appendChild(cardImage);\n    \n    // Refund Amount Display (similar to virtual card's available balance)\n    const balanceContainer = createEl('div', 'onbe-balance-container');\n    applyStyles(balanceContainer, {\n      marginTop: '20px',\n      textAlign: 'center'\n    });\n    \n    const dividerLine = createEl('div', 'onbe-balance-divider');\n    applyStyles(dividerLine, {\n      width: '60%',\n      height: '1px',\n      background: 'linear-gradient(90deg, transparent, #e0e0e0, transparent)',\n      margin: '0 auto 16px auto'\n    });\n    balanceContainer.appendChild(dividerLine);\n    \n    const balanceLabel = createEl('div', 'onbe-balance-label', 'Refund Amount');\n    applyStyles(balanceLabel, {\n      fontSize: '14px',\n      fontWeight: '500',\n      color: '#666',\n      marginBottom: '6px'\n    });\n    balanceContainer.appendChild(balanceLabel);\n    \n    const balanceValue = createEl('div', 'onbe-balance-value', '$93.00');\n    applyStyles(balanceValue, {\n      fontSize: '32px',\n      fontWeight: '700',\n      color: this.cfg.primaryColor || '#4db6ac',\n      marginBottom: '4px'\n    });\n    balanceContainer.appendChild(balanceValue);\n    \n    cardEl.appendChild(balanceContainer);\n    holder.appendChild(cardEl);\n    \n    // Transfer button below card (similar to Add to Wallet)\n    this.renderTransferButton(holder);\n  }\n  \n  private renderTransferButton(holder: HTMLElement) {\n    const transferContainer = createEl('div', 'onbe-transfer-container');\n    applyStyles(transferContainer, {\n      marginTop: '16px',\n      display: 'flex',\n      justifyContent: 'center'\n    });\n    \n    const transferBtn = createEl('button', 'onbe-transfer-btn', 'Transfer') as HTMLButtonElement;\n    applyStyles(transferBtn, {\n      width: '100%',\n      maxWidth: '320px',\n      padding: '12px 16px',\n      background: this.cfg.buttonColor || '#00897b',\n      color: '#fff',\n      border: 'none',\n      borderRadius: '8px',\n      fontSize: '15px',\n      fontWeight: '600',\n      cursor: 'pointer',\n      transition: 'background 0.2s'\n    });\n    \n    transferBtn.addEventListener('mouseenter', () => {\n      if (!transferBtn.disabled) {\n        applyStyles(transferBtn, { background: this.cfg.buttonHoverColor || '#00695c' });\n      }\n    });\n    \n    transferBtn.addEventListener('mouseleave', () => {\n      if (!transferBtn.disabled) {\n        applyStyles(transferBtn, { background: this.cfg.buttonColor || '#00897b' });\n      }\n    });\n    \n    transferBtn.addEventListener('click', async () => {\n      // Disable button and show loading spinner\n      transferBtn.disabled = true;\n      applyStyles(transferBtn, {\n        cursor: 'not-allowed',\n        opacity: '0.7'\n      });\n      \n      // Add spinner\n      const spinner = `\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" style=\"animation: spin 1s linear infinite; display: inline-block; margin-right: 8px;\">\n          <style>\n            @keyframes spin {\n              from { transform: rotate(0deg); }\n              to { transform: rotate(360deg); }\n            }\n          </style>\n          <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"3\" fill=\"none\" stroke-dasharray=\"60\" stroke-dashoffset=\"15\" stroke-linecap=\"round\"/>\n        </svg>\n      `;\n      transferBtn.innerHTML = `${spinner}<span>Processing...</span>`;\n      \n      // Simulate transfer processing\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Replace button with success message\n      transferContainer.innerHTML = '';\n      \n      const successBox = createEl('div', 'onbe-transfer-success');\n      applyStyles(successBox, {\n        maxWidth: '320px',\n        margin: '0 auto',\n        padding: '20px',\n        background: this.cfg.successBgColor || '#f0f9f4',\n        border: `2px solid ${this.cfg.successColor || '#10b981'}`,\n        borderRadius: '12px',\n        textAlign: 'center'\n      });\n      \n      const successIcon = createEl('div', 'onbe-success-icon');\n      successIcon.innerHTML = `\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" style=\"margin: 0 auto 12px;\">\n          <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"${this.cfg.successColor || '#10b981'}\"/>\n          <path d=\"M9 12l2 2 4-4\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        </svg>\n      `;\n      \n      const successTitle = createEl('div', 'onbe-success-title', 'Transfer Initiated');\n      applyStyles(successTitle, {\n        fontSize: '18px',\n        fontWeight: '600',\n        color: '#333',\n        marginBottom: '8px'\n      });\n      \n      const successMessage = createEl('div', 'onbe-success-message', 'You can expect the funds to be available in your account within 2-3 business days.');\n      applyStyles(successMessage, {\n        fontSize: '14px',\n        color: '#666',\n        lineHeight: '1.6',\n        marginBottom: '16px'\n      });\n      \n      const okBtn = createEl('button', 'onbe-ok-btn', 'Ok');\n      applyStyles(okBtn, {\n        padding: '10px 32px',\n        background: this.cfg.buttonColor || '#00897b',\n        color: '#fff',\n        border: 'none',\n        borderRadius: '8px',\n        fontSize: '15px',\n        fontWeight: '600',\n        cursor: 'pointer',\n        transition: 'background 0.2s'\n      });\n      \n      okBtn.addEventListener('mouseenter', () => {\n        applyStyles(okBtn, { background: this.cfg.buttonHoverColor || '#00695c' });\n      });\n      \n      okBtn.addEventListener('mouseleave', () => {\n        applyStyles(okBtn, { background: this.cfg.buttonColor || '#00897b' });\n      });\n      \n      okBtn.addEventListener('click', () => {\n        // Could navigate back or close the SDK\n        console.log('Transfer acknowledged');\n      });\n      \n      successBox.appendChild(successIcon);\n      successBox.appendChild(successTitle);\n      successBox.appendChild(successMessage);\n      successBox.appendChild(okBtn);\n      \n      transferContainer.appendChild(successBox);\n    });\n    \n    transferContainer.appendChild(transferBtn);\n    holder.appendChild(transferContainer);\n  }\n  \n  private showToast(message: string, type: 'success' | 'error' = 'success'): void {\n    // Remove existing toast if any\n    const existing = document.getElementById('onbe-toast-notification');\n    if (existing) existing.remove();\n    \n    const toast = createEl('div', 'onbe-toast-notification', message);\n    toast.id = 'onbe-toast-notification';\n    applyStyles(toast, {\n      position: 'fixed',\n      bottom: '24px',\n      right: '24px',\n      background: type === 'success' ? (this.cfg.successColor || '#4caf50') : (this.cfg.errorColor || '#f44336'),\n      color: 'white',\n      padding: '16px 24px',\n      borderRadius: '8px',\n      boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n      zIndex: '10000',\n      fontSize: '14px',\n      fontWeight: '500',\n      animation: 'slideIn 0.3s ease-out'\n    });\n    \n    document.body.appendChild(toast);\n    \n    // Auto-dismiss after 3 seconds\n    setTimeout(() => {\n      if (toast && toast.parentNode) {\n        applyStyles(toast, { animation: 'slideOut 0.3s ease-in' });\n        setTimeout(() => {\n          if (toast && toast.parentNode) {\n            toast.remove();\n          }\n        }, 300);\n      }\n    }, 3000);\n  }\n\n  private async showRequestCheckPlaceholder(): Promise<void> {\n    if (!this.rootEl) return;\n    \n    const holder = this.rootEl.querySelector('.onbe-rebate-card-holder') as HTMLElement;\n    if (!holder) return;\n    \n    holder.innerHTML = '';\n    \n    const container = createEl('div', 'onbe-check-placeholder-container');\n    applyStyles(container, {\n      padding: '20px 20px 20px 20px',\n      textAlign: 'center'\n    });\n    \n    // Large icon (moved up by removing back button)\n    const iconContainer = createEl('div', 'onbe-check-icon');\n    iconContainer.innerHTML = `<svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z\" fill=\"${this.cfg.primaryColor || '#4db6ac'}\"/></svg>`;\n    applyStyles(iconContainer, {\n      marginBottom: '20px',\n      marginTop: '20px'\n    });\n    \n    // Title\n    const title = createEl('h3', 'onbe-check-title', 'Request Check');\n    applyStyles(title, {\n      fontSize: '16px',\n      fontWeight: '600',\n      color: '#333',\n      marginTop: '0',\n      marginBottom: '12px'\n    });\n    \n    // Description\n    const description = createEl('p', 'onbe-check-desc', 'This feature is coming soon! Check requests will be available in a future update.');\n    applyStyles(description, {\n      fontSize: '14px',\n      color: '#666',\n      lineHeight: '1.6',\n      marginBottom: '24px'\n    });\n    \n    // Back button\n    const backBtn = createEl('button', 'onbe-back-to-methods', 'Back to Payment Methods');\n    applyStyles(backBtn, {\n      padding: '12px 24px',\n      background: this.cfg.primaryColor || '#4db6ac',\n      color: 'white',\n      border: 'none',\n      borderRadius: '8px',\n      fontSize: '15px',\n      fontWeight: '600',\n      cursor: 'pointer'\n    });\n    \n    backBtn.addEventListener('click', () => {\n      this.showPayoutMethodSelection().then(method => {\n        this.handlePayoutSelection(method);\n      });\n    });\n    \n    container.appendChild(iconContainer);\n    container.appendChild(title);\n    container.appendChild(description);\n    container.appendChild(backBtn);\n    \n    holder.appendChild(container);\n  }\n\n  private maskBankNumber(number: string, showLast: number = 3): string {\n    const cleaned = number.replace(/\\s/g, '');\n    const lastDigits = cleaned.slice(-showLast);\n    const masked = '•'.repeat(cleaned.length - showLast);\n    return masked + lastDigits;\n  }\n\n  private async handlePayoutSelection(method: PayoutMethod): Promise<void> {\n    switch (method) {\n      case 'virtual_card':\n        await this.fetchAndRenderCard();\n        break;\n      case 'bank_transfer':\n        await this.showBankTransferFlow();\n        break;\n      case 'request_check':\n        await this.showRequestCheckPlaceholder();\n        break;\n    }\n  }\n\n  private cardStyles() {\n    return {\n      background: 'transparent'\n    } as Record<string, string | number>;\n  }\n}\n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","_","label","sent","trys","ops","g","Object","create","Iterator","prototype","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","SuppressedError","CONFIG","createEl","tag","className","innerHTML","el","document","createElement","undefined","applyStyles","styles","assign","style","DEFAULT_CARD","programId","accountNumber","partner_user_id","cardNumber","cardNumberMasked","firstName","lastName","exp_year","exp_month","available","RebateSDK","cfg","container","rootEl","selectedPayoutMethod","currentBankAccount","containerId","Error","mount","getElementById","concat","root","fontFamily","width","maxWidth","margin","cardHolder","appendChild","injectToastStyles","showTermsFlow","_a","primaryColor","id","head","showLoadingBar","setTimeout","hideLoadingBar","showTermsAndConditions","_this","holder","querySelector","termsContainer","padding","title","fontSize","fontWeight","marginTop","textAlign","color","description","marginBottom","lineHeight","linksBox","background","borderRadius","linksText","linksWrapper","display","gap","flexWrap","termsLink","setAttribute","textDecoration","privacyLink","checkboxLabel","alignItems","cursor","checkbox","type","height","checkboxText","buttonsContainer","declineBtn","flex","border","acceptBtn","opacity","disabled","addEventListener","checked","showPayoutMethodSelection","selectedMethod","handlePayoutSelection","declineMsg","fetchAndRenderCard","fetchCardDetails","details","renderCard","fetchCvv","cvv","renderDetailsBox","slice","console","error","err_1","errorEl","textContent","message","loadingContainer","loadingText","progressBarBg","overflow","position","progressBar","secondaryColor","transition","animation","remove","createAndLoadPayload","keyValue","key","program_id","promotion_id","transaction_id","crypto","randomUUID","accessLevel","accountPersonalized","card","cardAccessLevel","load","amount","comment","claimable","notificationIndicator","templateId","registration","addenda","reference_1","reference_2","reference_3","reference_4","address1","address2","address3","address4","businessEmail","businessPhone","city","country","date_of_birth","emailAddress","homeEmail","homePhone","middleName","mobileEmail","mobilePhone","phone","postal","ssn","state","suffixName","createAndLoadURL","fetch","method","headers","Accept","JSON","stringify","cache","resp","log","status","ok","json","data","warn","err_2","r","getCvvUrl","encodeURIComponent","decrypt","err_3","encryptedData","sharedSecret","encryptedBuffer","Uint8Array","from","atob","c","charCodeAt","iv","encrypted","encoder","TextEncoder","secretBuffer","encode","subtle","digest","hashBuffer","importKey","name","cryptoKey","decryptedBuffer","TextDecoder","decode","err_4","maskCardNumber","last4","replace","cardEl","cardStyles","maskedNumber","cardImage","paddingBottom","boxSizing","cardContent","top","left","right","bottom","flexDirection","justifyContent","companyName","companyInCard","numberEl","letterSpacing","whiteSpace","textOverflow","nameInside","marginLeft","metaRow","expiry","balanceContainer","dividerLine","balanceAmount","balanceLabel","balanceAmountEl","toFixed","rotateBtn","transform","backOverlay","inset","backContent","companyBack","numberBack","nameBack","metaRowBack","expiryBack","cvvBack","rotateBackBtn","setSide","back","renderAddToWalletButton","cvvEl","panEl","walletContainer","walletBtn","buttonColor","buttonHoverColor","showAddToWalletFullScreen","overlay","backgroundColor","zIndex","contentArea","cardPreview","aspectRatio","boxShadow","logoContainer","logoBox","substring","toUpperCase","companyEl","statusContainer","browserFooter","borderTop","urlBar","aaIcon","lockEl","urlText","refreshEl","navControls","backBtn","forwardBtn","shareBtn","bookBtn","tabsBtn","showAddingCardSpinner","showCardAddedSuccess","statusRow","spinner","successText","checkmarkEl","successMessage","doneBtn","removeChild","selectionContainer","payoutOptions","icon","enabled","optionsContainer","forEach","option","tile","renderPayoutMethodOption","onClick","iconContainer","flexShrink","textContainer","titleEl","descEl","showBankTransferFlow","showBankAccountForm","bankAccount","renderBankAccountCard","formContainer","accountTypeLabel","radioContainer","checkingLabel","checkingRadio","savingsLabel","savingsRadio","bankNameInput","placeholder","routingInput","maxLength","target","accountInput","confirmInput","cancelBtn","saveBtn","validateForm","bankName","trim","routing","account","confirm","accountType","routingNumber","routingNumberMasked","maskBankNumber","accountNumberMasked","showToast","bankNameEl","accountTypeEl","charAt","accountNumberEl","routingRow","routingLabel","textTransform","routingValue","balanceValue","renderTransferButton","transferContainer","transferBtn","successBox","successBgColor","successColor","successIcon","successTitle","okBtn","existing","toast","errorColor","parentNode","showRequestCheckPlaceholder","number","showLast","cleaned","lastDigits","repeat","_b"],"mappings":"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"}