function e(e,n,t,o){return new(t||(t=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function d(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,d)}c((o=o.apply(e,n||[])).next())})}function n(e,n){var t,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=d(0),a.throw=d(1),a.return=d(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function d(d){return function(c){return function(d){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(i=0)),i;)try{if(t=1,o&&(r=2&d[0]?o.return:d[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,d[1])).done)return r;switch(o=0,r&&(d=[2&d[0],r.value]),d[0]){case 0:case 1:r=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,o=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==d[0]&&2!==d[0])){i=0;continue}if(3===d[0]&&(!r||d[1]>r[0]&&d[1]<r[3])){i.label=d[1];break}if(6===d[0]&&i.label<r[1]){i.label=r[1],r=d;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(d);break}r[2]&&i.ops.pop(),i.trys.pop();continue}d=n.call(e,i)}catch(e){d=[6,e],o=0}finally{t=r=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,c])}}}"function"==typeof SuppressedError&&SuppressedError;var t="https://rebate-sdk-api-test.optisolbusiness.com/health/",o="create-account",r="get-cvv-details";function i(e,n,t){var o=document.createElement(e);return n&&(o.className=n),void 0!==t&&(o.innerHTML=t),o}function a(e,n){Object.assign(e.style,n)}var d={programId:"04016113",accountNumber:"0401611300744169",partner_user_id:"d2fe53af-51f8-4cb6-ac7f-682396061f3f",cardNumber:"5445446557809529",cardNumberMasked:"5445XXXXXXXX9529",firstName:"John",lastName:"Doe",exp_year:2026,exp_month:10,available:9300},c=function(){function c(e){if(this.container=null,this.rootEl=null,this.selectedPayoutMethod=null,this.currentBankAccount=null,!e||!e.containerId)throw new Error("RebateSDK: containerId is required");this.cfg=e}return c.prototype.mount=function(){return e(this,void 0,void 0,function(){var e,t,o;return n(this,function(n){switch(n.label){case 0:if(!(e=document.getElementById(this.cfg.containerId)))throw new Error("Container with id ".concat(this.cfg.containerId," not found"));return this.container=e,e.innerHTML="",a(t=i("div","onbe-rebate-root"),{fontFamily:"Arial, sans-serif",width:"100%",maxWidth:"400px",margin:"0 auto"}),o=i("div","onbe-rebate-card-holder"),t.appendChild(o),e.appendChild(t),this.rootEl=t,this.injectToastStyles(),[4,this.showTermsFlow()];case 1:return n.sent(),[2]}})})},c.prototype.injectToastStyles=function(){if(!document.getElementById("onbe-toast-styles")){var e=this.cfg.primaryColor||"#4db6ac",n=i("style");n.id="onbe-toast-styles",n.innerHTML="\n      @keyframes slideIn {\n        from {\n          transform: translateX(400px);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0);\n          opacity: 1;\n        }\n      }\n      @keyframes slideOut {\n        from {\n          transform: translateX(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateX(400px);\n          opacity: 0;\n        }\n      }\n      \n      /* Checkbox styling */\n      .onbe-checkbox:checked {\n        accent-color: ".concat(e,";\n      }\n      \n      /* Radio button styling */\n      .onbe-radio-checking:checked,\n      .onbe-radio-savings:checked {\n        accent-color: ").concat(e,";\n      }\n    "),document.head.appendChild(n)}},c.prototype.showTermsFlow=function(){return e(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return this.showLoadingBar("Loading terms..."),[4,new Promise(function(e){return setTimeout(e,800)})];case 1:return e.sent(),this.hideLoadingBar(),[4,this.showTermsAndConditions()];case 2:return e.sent(),[2]}})})},c.prototype.showTermsAndConditions=function(){return e(this,void 0,void 0,function(){var t=this;return n(this,function(o){return[2,new Promise(function(o){if(t.rootEl){var r=t.rootEl.querySelector(".onbe-rebate-card-holder");if(r){r.innerHTML="";var d=i("div","onbe-terms-container");a(d,{padding:"8px 20px 20px 20px",maxWidth:"100%"});var c=i("h3","onbe-terms-title","Terms & Conditions");a(c,{fontSize:"16px",fontWeight:"600",margin:"0 0 12px 0",marginTop:"0",textAlign:"center",color:"#333"});var s=i("p","onbe-terms-desc","To receive your refund as a virtual card, please review and accept our terms and conditions.");a(s,{fontSize:"14px",color:"#666",marginBottom:"16px",lineHeight:"1.6"});var l=i("div","onbe-links-box");a(l,{background:"#f9fafb",padding:"16px",borderRadius:"8px",marginBottom:"16px"});var p=i("p","onbe-links-text","By accepting, you agree to receive your refund as a virtual prepaid card. Please read our policies:");a(p,{fontSize:"13px",color:"#555",marginBottom:"12px",lineHeight:"1.5",margin:"0 0 12px 0"});var u=i("div","onbe-links-wrapper");a(u,{display:"flex",gap:"16px",flexWrap:"wrap"});var h=i("a","onbe-terms-link","Terms of Service →");h.setAttribute("href","#"),h.setAttribute("target","_blank"),a(h,{color:t.cfg.primaryColor||"#0b6cff",textDecoration:"none",fontSize:"14px",fontWeight:"500"});var f=i("a","onbe-privacy-link","Privacy Policy →");f.setAttribute("href","#"),f.setAttribute("target","_blank"),a(f,{color:t.cfg.primaryColor||"#0b6cff",textDecoration:"none",fontSize:"14px",fontWeight:"500"}),u.appendChild(h),u.appendChild(f),l.appendChild(p),l.appendChild(u);var b=i("label","onbe-checkbox-label");a(b,{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",cursor:"pointer"});var g=i("input","onbe-checkbox");g.type="checkbox",a(g,{width:"18px",height:"18px",cursor:"pointer"});var v=i("span","onbe-checkbox-text","I have read and agree to the terms and conditions");a(v,{fontSize:"14px",color:"#333"}),b.appendChild(g),b.appendChild(v);var x=i("div","onbe-buttons-container");a(x,{display:"flex",gap:"12px"});var m=i("button","onbe-decline-btn","Decline");a(m,{flex:"1",padding:"12px",background:"#fff",color:"#666",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer"});var y=i("button","onbe-accept-btn","Accept");a(y,{flex:"1",padding:"12px",background:t.cfg.primaryColor||"#0b6cff",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"not-allowed",opacity:"0.5"}),y.disabled=!0,g.addEventListener("change",function(){g.checked?(y.disabled=!1,a(y,{cursor:"pointer",opacity:"1"})):(y.disabled=!0,a(y,{cursor:"not-allowed",opacity:"0.5"}))}),y.addEventListener("click",function(){return e(t,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return y.disabled?[3,3]:(r.innerHTML="",[4,this.showPayoutMethodSelection()]);case 1:return e=n.sent(),[4,this.handlePayoutSelection(e)];case 2:n.sent(),o(),n.label=3;case 3:return[2]}})})}),m.addEventListener("click",function(){r.innerHTML="";var e=i("div","onbe-decline-msg","You have declined the terms. Please refresh to try again.");a(e,{textAlign:"center",padding:"20px",color:"#666",fontSize:"14px"}),r.appendChild(e)}),x.appendChild(m),x.appendChild(y),d.appendChild(c),d.appendChild(s),d.appendChild(l),d.appendChild(b),d.appendChild(x),r.appendChild(d)}}})]})})},c.prototype.fetchAndRenderCard=function(){return e(this,void 0,void 0,function(){var e,t,o,r;return n(this,function(n){switch(n.label){case 0:this.showLoadingBar("Loading your card..."),n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this.fetchCardDetails()];case 2:return e=n.sent(),this.hideLoadingBar(),this.renderCard(e),[4,this.fetchCvv(e.partner_user_id,e.programId)];case 3:return t=n.sent(),this.renderDetailsBox({cardNumber:e.cardNumber,cvv:t.slice(0,3),firstName:e.firstName,lastName:e.lastName,exp_month:e.exp_month,exp_year:e.exp_year}),[3,5];case 4:return o=n.sent(),console.error("RebateSDK: Failed to fetch and render card",o),this.hideLoadingBar(),this.rootEl&&(a(r=i("div","onbe-error"),{color:"#d32f2f",padding:"12px",textAlign:"center",fontSize:"14px"}),r.textContent="Unable to load card details. Please try again later.",this.rootEl.appendChild(r)),[3,5];case 5:return[2]}})})},c.prototype.showLoadingBar=function(e){if(void 0===e&&(e="Loading your card..."),this.rootEl){var n=i("div","onbe-loading-container");a(n,{padding:"24px",textAlign:"center"});var t=i("div","onbe-loading-text",e);a(t,{fontSize:"14px",color:"#666",marginBottom:"16px",fontWeight:"500"});var o=i("div","onbe-progress-bg");a(o,{width:"100%",height:"6px",background:"#e0e0e0",borderRadius:"3px",overflow:"hidden",position:"relative"});var r=i("div","onbe-progress-bar");a(r,{width:"0%",height:"100%",background:"linear-gradient(90deg, ".concat(this.cfg.primaryColor||"#0b6cff",", ").concat(this.cfg.secondaryColor||"#6ec1ff",")"),borderRadius:"3px",transition:"width 0.3s ease",animation:"onbe-progress 2s ease-in-out infinite"});var d=i("style");d.innerHTML="\n      @keyframes onbe-progress {\n        0% { width: 0%; }\n        50% { width: 70%; }\n        100% { width: 100%; }\n      }\n    ",document.head.appendChild(d),o.appendChild(r),n.appendChild(t),n.appendChild(o);var c=this.rootEl.querySelector(".onbe-rebate-card-holder");c&&c.appendChild(n)}},c.prototype.hideLoadingBar=function(){if(this.rootEl){var e=this.rootEl.querySelector(".onbe-rebate-card-holder");if(e){var n=e.querySelector(".onbe-loading-container");n&&n.remove()}}},c.prototype.fetchCardDetails=function(){return e(this,void 0,void 0,function(){var e,r,i,a,c;return n(this,function(n){switch(n.label){case 0:e={keyValue:[{key:"example_key",value:"example_value"}],partner_user_id:"",program_id:"04016113",promotion_id:"1",transaction_id:crypto.randomUUID(),accessLevel:1,accountPersonalized:"TRUE",card:{cardAccessLevel:1},load:{amount:1,comment:"testadd",keyValue:[{key:"",value:"683"}],claimable:0,notificationIndicator:0,templateId:"363"},registration:{addenda:{reference_1:"",reference_2:"",reference_3:"",reference_4:""},address1:"test address1",address2:"test address2",address3:"test address3",address4:"test address4",businessEmail:"vijay.prasad@onbe.com",businessPhone:"610-234-4564",city:"Conshohocken",country:"US",date_of_birth:"01/02/1993",emailAddress:"vijay.prasad@onbe.com",firstName:"Walter",homeEmail:"vijay.prasad+test@onbe.com",homePhone:"610-123-4567",keyValue:[{key:"example_key",value:"example_value"}],lastName:"White",middleName:"",mobileEmail:"vijay.prasad@onbe.com",mobilePhone:"610-123-4567",phone:"610-123-4567",postal:"19428",ssn:"987654321",state:"PA",suffixName:"Ms.",notificationIndicator:0}},n.label=1;case 1:return n.trys.push([1,6,,7]),r=t+o,[4,fetch(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),cache:"no-store"})];case 2:return i=n.sent(),console.log("RebateSDK: fetch to",r,"status",i.status),i.ok?[4,i.json()]:[3,4];case 3:return a=n.sent(),console.log("RebateSDK: server response",a),[2,a.data];case 4:console.warn("RebateSDK: server returned non-ok status",i.status),n.label=5;case 5:return[3,7];case 6:return c=n.sent(),console.warn("RebateSDK: failed to fetch from server, falling back to mock",c),[3,7];case 7:return[4,new Promise(function(e){return setTimeout(e,600)})];case 8:return n.sent(),[2,d]}})})},c.prototype.fetchCvv=function(o,i){return e(this,void 0,void 0,function(){var e,a,d,c;return n(this,function(n){switch(n.label){case 0:e=t+r+"?partnerUserId=".concat(encodeURIComponent(o),"&programId=").concat(encodeURIComponent(i)),n.label=1;case 1:return n.trys.push([1,7,,8]),[4,fetch(e,{method:"GET",headers:{Accept:"application/json"},cache:"no-store"})];case 2:return a=n.sent(),console.log("RebateSDK: fetch CVV to",e,"status",a.status),a.ok?[4,a.json()]:[3,5];case 3:return d=n.sent(),console.log("RebateSDK: CVV response",d),[4,this.decrypt(d.cvv)];case 4:return[2,n.sent()];case 5:console.warn("RebateSDK: CVV fetch returned non-ok status",a.status),n.label=6;case 6:return[3,8];case 7:return c=n.sent(),console.warn("RebateSDK: failed to fetch CVV",c),[3,8];case 8:return[2,"123"]}})})},c.prototype.decrypt=function(t){return e(this,void 0,void 0,function(){var e,o,r,i,a,d,c,s,l,p,u;return n(this,function(n){switch(n.label){case 0:e="a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e",n.label=1;case 1:return n.trys.push([1,5,,6]),o=Uint8Array.from(atob(t),function(e){return e.charCodeAt(0)}),r=o.slice(0,16),i=o.slice(16),a=new TextEncoder,d=a.encode(e),[4,crypto.subtle.digest("SHA-256",d)];case 2:return c=n.sent(),s=new Uint8Array(c).slice(0,32),[4,crypto.subtle.importKey("raw",s,{name:"AES-CBC"},!1,["decrypt"])];case 3:return l=n.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:r},l,i)];case 4:return p=n.sent(),[2,(new TextDecoder).decode(p)];case 5:throw u=n.sent(),new Error("Decryption failed: "+u.message);case 6:return[2]}})})},c.prototype.maskCardNumber=function(e){console.log(e);var n=e.replace(/\s/g,"").slice(-4);return"•••• •••• •••• ".concat(n)},c.prototype.renderCard=function(e){if(this.rootEl){var n=this.rootEl.querySelector(".onbe-rebate-card-holder");if(n){n.innerHTML="";var t=i("div","onbe-card");a(t,this.cardStyles());var o=this.maskCardNumber(e.cardNumberMasked),r=i("div","onbe-card-image");a(r,{marginTop:"12px",position:"relative",width:"100%",paddingBottom:"63%",background:"linear-gradient(135deg, ".concat(this.cfg.primaryColor||"#0b6cff",", ").concat(this.cfg.secondaryColor||"#6ec1ff",")"),borderRadius:"12px",color:"#fff",boxSizing:"border-box",overflow:"hidden"});var d=i("div","onbe-card-content");if(a(d,{position:"absolute",top:0,left:0,right:0,bottom:0,padding:"16px",display:"flex",flexDirection:"column",justifyContent:"flex-start"}),r.appendChild(d),this.cfg.companyName){var c=i("div","onbe-company-in-card",this.cfg.companyName);a(c,{position:"absolute",top:"12px",left:"16px",fontSize:"14px",fontWeight:"700",color:"rgba(255,255,255,0.95)"}),r.appendChild(c)}var s=i("div","onbe-card-number",o);a(s,{fontSize:"20px",letterSpacing:"2px",fontFamily:"monospace",fontWeight:"500",whiteSpace:"nowrap",textAlign:"left",margin:"74px 0 8px 16px",overflow:"hidden",textOverflow:"ellipsis"}),d.appendChild(s);var l=i("div","onbe-cardholder-name",e.firstName+" "+e.lastName);a(l,{fontSize:"14px",fontWeight:"600",color:"rgba(255,255,255,0.95)",textAlign:"left",marginTop:"6px",marginLeft:"16px"}),d.appendChild(l);var p=i("div","onbe-card-meta");a(p,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginTop:"auto"});var u=i("div","onbe-card-expiry");a(u,{display:"flex",flexDirection:"column",gap:"1px"}),u.innerHTML='\n      <div style="color:rgba(255,255,255,0.7);font-size:9px;text-transform:uppercase;margin-bottom:1px">Exp</div>\n      <div style="font-size:13px">'.concat("".concat(e.exp_month,"/").concat(e.exp_year)||"","</div>\n    ");var h=i("div","onbe-card-cvv");a(h,{textAlign:"right",display:"flex",flexDirection:"column",gap:"1px"}),h.innerHTML='\n      <div style="color:rgba(255,255,255,0.7);font-size:9px;text-transform:uppercase;margin-bottom:1px">CVV</div>\n      <div style="font-size:13px">•••</div>\n    ',p.appendChild(u),p.appendChild(h),d.appendChild(p),t.appendChild(r);var f=i("div","onbe-balance-container");a(f,{marginTop:"20px",textAlign:"center"});var b=i("div","onbe-balance-divider");a(b,{width:"60%",height:"1px",background:"linear-gradient(90deg, transparent, #e0e0e0, transparent)",margin:"0 auto 16px auto"}),f.appendChild(b);var g=(e.available||0)/100,v=i("div","onbe-balance-label","Available Balance");a(v,{fontSize:"14px",fontWeight:"500",color:"#666",marginBottom:"4px"});var x=i("div","onbe-balance-amount","$".concat(g.toFixed(2)));a(x,{fontSize:"28px",fontWeight:"700",color:this.cfg.primaryColor||"#0b6cff",lineHeight:"1.2"}),f.appendChild(v),f.appendChild(x),t.appendChild(f);var m=i("button","onbe-rotate-btn","View details");m.setAttribute("aria-label","View card details"),a(m,{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",padding:"6px 10px",borderRadius:"999px",border:"none",background:"rgba(0,0,0,0.35)",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"600"}),r.appendChild(m);var y=i("div","onbe-card-back");a(y,{position:"absolute",inset:"0",display:"none",background:"linear-gradient(135deg, ".concat(this.cfg.primaryColor||"#0b6cff",", ").concat(this.cfg.secondaryColor||"#6ec1ff",")"),borderRadius:"12px",color:"#fff",boxSizing:"border-box"});var C=i("div","onbe-card-content-back");if(a(C,{position:"absolute",top:0,left:0,right:0,bottom:0,padding:"16px",display:"flex",flexDirection:"column",justifyContent:"flex-start"}),this.cfg.companyName){var k=i("div","onbe-company-in-card-back",this.cfg.companyName);a(k,{position:"absolute",top:"12px",left:"16px",fontSize:"14px",fontWeight:"700",color:"rgba(255,255,255,0.95)"}),y.appendChild(k)}var w=i("div","onbe-back-card-number",e.cardNumber);a(w,{fontSize:"20px",letterSpacing:"2px",fontFamily:"monospace",fontWeight:"500",whiteSpace:"nowrap",textAlign:"left",margin:"74px 0 8px 16px",overflow:"hidden",textOverflow:"ellipsis"}),C.appendChild(w);var S=i("div","onbe-cardholder-name-back",e.firstName+" "+e.lastName);a(S,{fontSize:"14px",fontWeight:"600",color:"rgba(255,255,255,0.95)",textAlign:"left",marginTop:"6px",marginLeft:"16px"}),C.appendChild(S);var T=i("div","onbe-card-meta-back");a(T,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginTop:"auto"});var z=i("div","onbe-card-expiry-back");a(z,{display:"flex",flexDirection:"column",gap:"1px"}),z.innerHTML='\n      <div style="color:rgba(255,255,255,0.7);font-size:9px;text-transform:uppercase;margin-bottom:1px">Exp</div>\n      <div style="font-size:13px">'.concat("".concat(e.exp_month,"/").concat(e.exp_year)||"","</div>\n    ");var L=i("div","onbe-card-cvv-back");a(L,{textAlign:"right",display:"flex",flexDirection:"column",gap:"1px"}),L.innerHTML='\n      <div style="color:rgba(255,255,255,0.7);font-size:9px;text-transform:uppercase;margin-bottom:1px">CVV</div>\n      <div class="onbe-back-cvv-value" style="font-size:13px">•••</div>\n    ',T.appendChild(z),T.appendChild(L),C.appendChild(T);var E=i("button","onbe-rotate-back-btn","Hide details");E.setAttribute("aria-label","Hide card details"),a(E,{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",padding:"6px 10px",borderRadius:"999px",border:"none",background:"rgba(0,0,0,0.35)",color:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"600"}),y.appendChild(E),y.appendChild(C),r.appendChild(y);var B=function(e){y.style.display=e?"block":"none",d.style.display=e?"none":"flex"};m.addEventListener("click",function(){return B(!0)}),E.addEventListener("click",function(){return B(!1)}),n.appendChild(t),this.renderAddToWalletButton(n)}}},c.prototype.renderDetailsBox=function(e){if(this.rootEl){var n=this.rootEl.querySelector(".onbe-back-cvv-value");n&&e.cvv&&(n.textContent=e.cvv);var t=this.rootEl.querySelector(".onbe-back-card-number");t&&e.cardNumber&&(t.textContent=e.cardNumber)}},c.prototype.renderAddToWalletButton=function(t){var o=this,r=i("div","onbe-wallet-container");a(r,{marginTop:"16px",display:"flex",justifyContent:"center"});var d=i("button","onbe-wallet-btn");a(d,{width:"100%",maxWidth:"320px",padding:"12px 16px",background:this.cfg.buttonColor||"#00897b",color:"#fff",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.2s"});d.innerHTML="".concat('\n      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" fill="currentColor"/>\n      </svg>\n    ',"<span>Add to Apple Pay</span>"),d.addEventListener("mouseenter",function(){d.disabled||a(d,{background:o.cfg.buttonHoverColor||"#00695c"})}),d.addEventListener("mouseleave",function(){d.disabled||a(d,{background:o.cfg.buttonColor||"#00897b"})}),d.addEventListener("click",function(){return e(o,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,this.showAddToWalletFullScreen()];case 1:return e.sent(),d.disabled=!0,a(d,{background:"#e0e0e0",color:"#666",cursor:"not-allowed"}),d.innerHTML="<span>Card added to wallet</span>".concat('\n        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">\n          <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>\n        </svg>\n      '),[2]}})})}),r.appendChild(d),t.appendChild(r)},c.prototype.showAddToWalletFullScreen=function(){return e(this,void 0,void 0,function(){var e,t,o,r,d,c,s,l,p,u,h,f,b,g,v,x,m,y,C,k;return n(this,function(n){switch(n.label){case 0:return this.rootEl?(a(e=i("div","onbe-wallet-overlay"),{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"#f5f5f7",zIndex:"99999",display:"flex",flexDirection:"column"}),a(t=i("div","onbe-content-area"),{flex:"1",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#fff",padding:"40px 20px 20px",overflow:"auto"}),a(o=i("div","onbe-card-preview"),{width:"90%",maxWidth:"320px",aspectRatio:"1.586",background:"linear-gradient(135deg, ".concat(this.cfg.primaryColor||"#4db6ac",", ").concat(this.cfg.secondaryColor||"#80cbc4",")"),borderRadius:"16px",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",color:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"20px",marginBottom:"24px"}),this.cfg.companyName&&(a(r=i("div","onbe-card-logo-container"),{display:"flex",alignItems:"center",gap:"8px"}),a(d=i("div","onbe-card-logo"),{width:"32px",height:"32px",backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"700"}),d.textContent=this.cfg.companyName.substring(0,2).toUpperCase(),a(c=i("div","onbe-card-company",this.cfg.companyName),{fontSize:"13px",fontWeight:"600"}),r.appendChild(d),r.appendChild(c),o.appendChild(r)),a(s=i("div","onbe-card-number","•••• 3923"),{fontSize:"18px",fontFamily:"monospace",letterSpacing:"2px",textAlign:"left"}),o.appendChild(s),a(l=i("div","onbe-status-container"),{textAlign:"center",flex:"1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",maxWidth:"320px"}),t.appendChild(o),t.appendChild(l),a(p=i("div","onbe-browser-footer"),{backgroundColor:"#fff",borderTop:"1px solid #d1d1d6",padding:"8px 12px 20px",display:"flex",flexDirection:"column",gap:"8px"}),a(u=i("div","onbe-url-bar"),{backgroundColor:"#f5f5f7",borderRadius:"8px",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#333"}),a(h=i("div","onbe-aa-icon","aA"),{fontSize:"14px",fontWeight:"600",color:"#333"}),(f=i("div","onbe-lock")).innerHTML='<svg width="12" height="12" viewBox="0 0 24 24" fill="none"><rect x="5" y="11" width="14" height="10" rx="2" stroke="#8E8E93" stroke-width="2"/><path d="M8 11V7a4 4 0 0 1 8 0v4" stroke="#8E8E93" stroke-width="2"/></svg>',a(b=i("div","onbe-url-text","apple-pay.apple.com"),{flex:"1",color:"#333"}),(g=i("div","onbe-refresh")).innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M4 12a8 8 0 1 1 0 .01" stroke="#8E8E93" stroke-width="2" stroke-linecap="round"/><path d="M4 6v6h6" stroke="#8E8E93" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',u.appendChild(h),u.appendChild(f),u.appendChild(b),u.appendChild(g),a(v=i("div","onbe-nav-controls"),{display:"flex",justifyContent:"space-around",alignItems:"center",padding:"4px 12px"}),(x=i("div","onbe-nav-btn")).innerHTML='<svg width="28" height="28" viewBox="0 0 28 28" fill="none"><path d="M17 21l-7-7 7-7" stroke="#007AFF" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',(m=i("div","onbe-nav-btn")).innerHTML='<svg width="28" height="28" viewBox="0 0 28 28" fill="none"><path d="M11 21l7-7-7-7" stroke="#8E8E93" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',(y=i("div","onbe-nav-btn")).innerHTML='<svg width="24" height="28" viewBox="0 0 24 28" fill="none"><path d="M12 4v16" stroke="#007AFF" stroke-width="2" stroke-linecap="round"/><path d="M7 9l5-5 5 5" stroke="#007AFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M5 21h14" stroke="#007AFF" stroke-width="2.5" stroke-linecap="round"/></svg>',(C=i("div","onbe-nav-btn")).innerHTML='<svg width="24" height="28" viewBox="0 0 24 28" fill="none"><path d="M5 5v16c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H7c-1.1 0-2 .9-2 2z" stroke="#007AFF" stroke-width="2" stroke-linecap="round"/><path d="M5 8h14" stroke="#007AFF" stroke-width="2" stroke-linecap="round"/></svg>',(k=i("div","onbe-nav-btn")).innerHTML='<svg width="28" height="28" viewBox="0 0 28 28" fill="none"><rect x="7" y="7" width="14" height="10" rx="1.5" stroke="#007AFF" stroke-width="2"/><path d="M21 12h-3m0 5h3" stroke="#007AFF" stroke-width="2" stroke-linecap="round"/></svg>',v.appendChild(x),v.appendChild(m),v.appendChild(y),v.appendChild(C),v.appendChild(k),p.appendChild(u),p.appendChild(v),e.appendChild(t),e.appendChild(p),document.body.appendChild(e),this.showAddingCardSpinner(l),[4,new Promise(function(e){return setTimeout(e,2e3)})]):[2];case 1:return n.sent(),this.showCardAddedSuccess(l,e),[2]}})})},c.prototype.showAddingCardSpinner=function(e){e.innerHTML="";var n=i("div","onbe-wallet-status-row");a(n,{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"18px",fontWeight:"600",color:"#000",marginBottom:"12px"});var t=i("span","onbe-wallet-loading-text","Adding Card"),o=i("div","onbe-wallet-spinner");o.innerHTML='\n      <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="animation: spin 1s linear infinite; display: inline-block;">\n        <style>\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        </style>\n        <circle cx="12" cy="12" r="10" stroke="#007AFF" stroke-width="3" fill="none" stroke-dasharray="60" stroke-dashoffset="15" stroke-linecap="round"/>\n      </svg>\n    ',n.appendChild(t),n.appendChild(o),e.appendChild(n)},c.prototype.showCardAddedSuccess=function(e,n){e.innerHTML="";var t=i("div","onbe-wallet-status-row");a(t,{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"18px",fontWeight:"600",color:"#000",marginBottom:"12px"});var o=i("span","onbe-success-text","Card Added"),r=i("div","onbe-checkmark");r.innerHTML='\n      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" style="display: inline-block;">\n        <circle cx="12" cy="12" r="10" fill="#34C759"/>\n        <path d="M8 12l3 3 5-5" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>\n    ',t.appendChild(o),t.appendChild(r);var d=i("div","onbe-wallet-success-message","Virtual Card is ready for Apple Pay on your selected devices.");a(d,{fontSize:"13px",color:"#666",lineHeight:"1.5",marginBottom:"auto",padding:"0 20px",textAlign:"center"});var c=i("button","onbe-done-btn","Done");a(c,{width:"100%",padding:"16px",background:"#007AFF",color:"#fff",border:"none",borderRadius:"14px",fontSize:"17px",fontWeight:"600",cursor:"pointer",transition:"opacity 0.2s",marginTop:"24px"}),c.addEventListener("mouseenter",function(){a(c,{opacity:"0.8"})}),c.addEventListener("mouseleave",function(){a(c,{opacity:"1"})}),c.addEventListener("click",function(){document.body.removeChild(n)}),e.appendChild(t),e.appendChild(d),e.appendChild(c)},c.prototype.showPayoutMethodSelection=function(){return e(this,void 0,void 0,function(){var e=this;return n(this,function(n){return[2,new Promise(function(n){if(e.rootEl){var t=e.rootEl.querySelector(".onbe-rebate-card-holder");if(t){t.innerHTML="";var o=i("div","onbe-payout-selection-container");a(o,{padding:"8px 20px 20px 20px",maxWidth:"100%"});var r=i("h3","onbe-payout-title","Choose Your Payout Method");a(r,{fontSize:"16px",fontWeight:"600",margin:"0 0 6px 0",marginTop:"0",textAlign:"center",color:"#333"});var d=i("p","onbe-payout-desc","Select how you'd like to receive your refund");a(d,{fontSize:"14px",color:"#666",marginBottom:"16px",textAlign:"center",lineHeight:"1.6"});var c=[{id:"virtual_card",title:"Virtual Card",description:"Instant access, use online",icon:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" fill="'.concat(e.cfg.primaryColor||"#4db6ac",'"/></svg>'),enabled:!0},{id:"bank_transfer",title:"Bank Transfer",description:"Direct deposit to account",icon:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path d="M4 10h3v7H4v-7zm6.5 0h3v7h-3v-7zM2 19h20v3H2v-3zM17 10h3v7h-3v-7zM12 1L2 6v2h20V6L12 1z" fill="'.concat(e.cfg.primaryColor||"#4db6ac",'"/></svg>'),enabled:!0},{id:"request_check",title:"Request Check",description:"Mailed to your address",icon:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z" fill="'.concat(e.cfg.primaryColor||"#4db6ac",'"/></svg>'),enabled:!0}],s=i("div","onbe-payout-options");a(s,{display:"flex",flexDirection:"column",gap:"12px"}),c.forEach(function(t){var o=e.renderPayoutMethodOption(t,function(t){e.selectedPayoutMethod=t,n(t)});s.appendChild(o)}),o.appendChild(r),o.appendChild(d),o.appendChild(s),t.appendChild(o)}}})]})})},c.prototype.renderPayoutMethodOption=function(e,n){var t=this,o=i("div","onbe-payout-tile");a(o,{border:"2px solid #e0e0e0",borderRadius:"12px",padding:"20px",background:"#fff",cursor:e.enabled?"pointer":"not-allowed",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"16px",opacity:e.enabled?"1":"0.5"}),e.enabled&&(o.addEventListener("mouseenter",function(){a(o,{border:"2px solid ".concat(t.cfg.primaryColor||"#4db6ac"),background:"#f9fafb"})}),o.addEventListener("mouseleave",function(){a(o,{border:"2px solid #e0e0e0",background:"#fff"})}),o.addEventListener("click",function(){n(e.id)}));var r=i("div","onbe-payout-icon");r.innerHTML=e.icon,a(r,{flexShrink:"0",width:"32px",height:"32px"});var d=i("div","onbe-payout-text");a(d,{flex:"1"});var c=i("div","onbe-payout-tile-title",e.title);a(c,{fontSize:"16px",fontWeight:"600",color:"#333",marginBottom:"4px"});var s=i("div","onbe-payout-tile-desc",e.description);return a(s,{fontSize:"13px",color:"#666",lineHeight:"1.4"}),d.appendChild(c),d.appendChild(s),o.appendChild(r),o.appendChild(d),o},c.prototype.showBankTransferFlow=function(){return e(this,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return[4,this.showBankAccountForm()];case 1:return(e=n.sent())&&(this.currentBankAccount=e,this.renderBankAccountCard(e)),[2]}})})},c.prototype.showBankAccountForm=function(){return e(this,void 0,void 0,function(){var e=this;return n(this,function(n){return[2,new Promise(function(n){if(e.rootEl){var t=e.rootEl.querySelector(".onbe-rebate-card-holder");if(t){t.innerHTML="";var o=i("div","onbe-bank-form-container");a(o,{padding:"8px 20px 20px 20px",maxWidth:"100%"});var r=i("h3","onbe-bank-form-title","Add Bank");a(r,{fontSize:"16px",fontWeight:"600",marginTop:"0",margin:"0 0 20px 0",color:"#333"});var d=i("div","onbe-field-label","Account Type");a(d,{fontSize:"14px",fontWeight:"500",color:"#333",marginBottom:"8px",marginTop:"16px"});var c=i("div","onbe-radio-container");a(c,{display:"flex",gap:"24px",marginBottom:"16px"});var s=i("label","onbe-radio-label");a(s,{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"15px"});var l=i("input","onbe-radio-checking");l.type="radio",l.name="accountType",l.value="checking",l.checked=!0,a(l,{width:"18px",height:"18px",cursor:"pointer"}),s.appendChild(l),s.appendChild(i("span","","Checking"));var p=i("label","onbe-radio-label");a(p,{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"15px"});var u=i("input","onbe-radio-savings");u.type="radio",u.name="accountType",u.value="savings",a(u,{width:"18px",height:"18px",cursor:"pointer"}),p.appendChild(u),p.appendChild(i("span","","Savings")),c.appendChild(s),c.appendChild(p);var h=i("input","onbe-input-bank-name");h.type="text",h.placeholder="Bank Name*",h.value="Wells Fargo Bank",a(h,{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"15px",boxSizing:"border-box",marginBottom:"16px"});var f=i("input","onbe-input-routing");f.type="text",f.placeholder="Routing Number*",f.maxLength=9,f.value="123456898",a(f,{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"15px",boxSizing:"border-box",marginBottom:"16px"}),f.addEventListener("input",function(e){var n=e.target;n.value=n.value.replace(/\D/g,"")});var b=i("input","onbe-input-account");b.type="text",b.placeholder="Account Number*",b.maxLength=17,b.value="987654622",a(b,{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"15px",boxSizing:"border-box",marginBottom:"16px"}),b.addEventListener("input",function(e){var n=e.target;n.value=n.value.replace(/\D/g,"")});var g=i("input","onbe-input-confirm");g.type="text",g.placeholder="Confirm Account Number*",g.maxLength=17,g.value="987654622",a(g,{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"15px",boxSizing:"border-box",marginBottom:"20px"}),g.addEventListener("input",function(e){var n=e.target;n.value=n.value.replace(/\D/g,"")});var v=i("div","onbe-bank-buttons");a(v,{display:"flex",gap:"12px"});var x=i("button","onbe-cancel-btn","Cancel");a(x,{flex:"1",padding:"12px",background:"#fff",color:"#666",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer"}),x.addEventListener("click",function(){n(null),e.showPayoutMethodSelection().then(function(n){e.handlePayoutSelection(n)})});var m=i("button","onbe-save-btn","Save");a(m,{flex:"1",padding:"12px",background:e.cfg.primaryColor||"#4db6ac",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"not-allowed",opacity:"0.5"}),m.disabled=!0;var y=function(){var e=h.value.trim(),n=f.value.trim(),t=b.value.trim(),o=g.value.trim();e.length>=2&&9===n.length&&t.length>=4&&t.length<=17&&t===o?(m.disabled=!1,a(m,{cursor:"pointer",opacity:"1"})):(m.disabled=!0,a(m,{cursor:"not-allowed",opacity:"0.5"}))};h.addEventListener("input",y),f.addEventListener("input",y),b.addEventListener("input",y),g.addEventListener("input",y),y(),m.addEventListener("click",function(){if(!m.disabled){var t=l.checked?"checking":"savings",o={bankName:h.value.trim(),accountType:t,routingNumber:f.value.trim(),accountNumber:b.value.trim(),routingNumberMasked:e.maskBankNumber(f.value.trim(),3),accountNumberMasked:e.maskBankNumber(b.value.trim(),3)};n(o)}}),v.appendChild(x),v.appendChild(m),o.appendChild(r),o.appendChild(d),o.appendChild(c),o.appendChild(h),o.appendChild(f),o.appendChild(b),o.appendChild(g),o.appendChild(v),t.appendChild(o)}}})]})})},c.prototype.renderBankAccountCard=function(e){if(this.rootEl){var n=this.rootEl.querySelector(".onbe-rebate-card-holder");if(n){n.innerHTML="",this.showToast("Bank account added successfully");var t=i("div","onbe-bank-card-visual");a(t,{maxWidth:"320px",margin:"0 auto",position:"relative"});var o=i("div","onbe-bank-card-image");a(o,{width:"100%",aspectRatio:"1.586",background:"linear-gradient(135deg, ".concat(this.cfg.primaryColor||"#0b6cff",", ").concat(this.cfg.secondaryColor||"#6ec1ff",")"),borderRadius:"16px",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",position:"relative",color:"#fff",overflow:"hidden"});var r=i("div","onbe-bank-card-content");a(r,{padding:"16px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"});var d=i("div","onbe-bank-name-display",e.bankName);a(d,{fontSize:"14px",fontWeight:"700",color:"rgba(255,255,255,0.95)",marginBottom:"8px"}),r.appendChild(d);var c=i("div","onbe-account-type",e.accountType.charAt(0).toUpperCase()+e.accountType.slice(1)+" Account");a(c,{fontSize:"12px",color:"rgba(255,255,255,0.7)",marginBottom:"32px"}),r.appendChild(c);var s=i("div","onbe-account-number",e.accountNumberMasked);a(s,{fontSize:"18px",letterSpacing:"2px",fontFamily:"monospace",fontWeight:"500",marginBottom:"8px"}),r.appendChild(s);var l=i("div","onbe-routing-row");a(l,{display:"flex",flexDirection:"column",gap:"2px",marginTop:"auto"});var p=i("div","onbe-routing-label","ROUTING");a(p,{fontSize:"9px",color:"rgba(255,255,255,0.7)",textTransform:"uppercase"});var u=i("div","onbe-routing-value",e.routingNumberMasked);a(u,{fontSize:"13px",fontFamily:"monospace",letterSpacing:"1px"}),l.appendChild(p),l.appendChild(u),r.appendChild(l),o.appendChild(r),t.appendChild(o);var h=i("div","onbe-balance-container");a(h,{marginTop:"20px",textAlign:"center"});var f=i("div","onbe-balance-divider");a(f,{width:"60%",height:"1px",background:"linear-gradient(90deg, transparent, #e0e0e0, transparent)",margin:"0 auto 16px auto"}),h.appendChild(f);var b=i("div","onbe-balance-label","Refund Amount");a(b,{fontSize:"14px",fontWeight:"500",color:"#666",marginBottom:"6px"}),h.appendChild(b);var g=i("div","onbe-balance-value","$93.00");a(g,{fontSize:"32px",fontWeight:"700",color:this.cfg.primaryColor||"#4db6ac",marginBottom:"4px"}),h.appendChild(g),t.appendChild(h),n.appendChild(t),this.renderTransferButton(n)}}},c.prototype.renderTransferButton=function(t){var o=this,r=i("div","onbe-transfer-container");a(r,{marginTop:"16px",display:"flex",justifyContent:"center"});var d=i("button","onbe-transfer-btn","Transfer");a(d,{width:"100%",maxWidth:"320px",padding:"12px 16px",background:this.cfg.buttonColor||"#00897b",color:"#fff",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"}),d.addEventListener("mouseenter",function(){d.disabled||a(d,{background:o.cfg.buttonHoverColor||"#00695c"})}),d.addEventListener("mouseleave",function(){d.disabled||a(d,{background:o.cfg.buttonColor||"#00897b"})}),d.addEventListener("click",function(){return e(o,void 0,void 0,function(){var e,t,o,c,s,l=this;return n(this,function(n){switch(n.label){case 0:return d.disabled=!0,a(d,{cursor:"not-allowed",opacity:"0.7"}),d.innerHTML="".concat('\n        <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="animation: spin 1s linear infinite; display: inline-block; margin-right: 8px;">\n          <style>\n            @keyframes spin {\n              from { transform: rotate(0deg); }\n              to { transform: rotate(360deg); }\n            }\n          </style>\n          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="60" stroke-dashoffset="15" stroke-linecap="round"/>\n        </svg>\n      ',"<span>Processing...</span>"),[4,new Promise(function(e){return setTimeout(e,2e3)})];case 1:return n.sent(),r.innerHTML="",a(e=i("div","onbe-transfer-success"),{maxWidth:"320px",margin:"0 auto",padding:"20px",background:this.cfg.successBgColor||"#f0f9f4",border:"2px solid ".concat(this.cfg.successColor||"#10b981"),borderRadius:"12px",textAlign:"center"}),(t=i("div","onbe-success-icon")).innerHTML='\n        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" style="margin: 0 auto 12px;">\n          <circle cx="12" cy="12" r="10" fill="'.concat(this.cfg.successColor||"#10b981",'"/>\n          <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n      '),a(o=i("div","onbe-success-title","Transfer Initiated"),{fontSize:"18px",fontWeight:"600",color:"#333",marginBottom:"8px"}),a(c=i("div","onbe-success-message","You can expect the funds to be available in your account within 2-3 business days."),{fontSize:"14px",color:"#666",lineHeight:"1.6",marginBottom:"16px"}),a(s=i("button","onbe-ok-btn","Ok"),{padding:"10px 32px",background:this.cfg.buttonColor||"#00897b",color:"#fff",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"}),s.addEventListener("mouseenter",function(){a(s,{background:l.cfg.buttonHoverColor||"#00695c"})}),s.addEventListener("mouseleave",function(){a(s,{background:l.cfg.buttonColor||"#00897b"})}),s.addEventListener("click",function(){console.log("Transfer acknowledged")}),e.appendChild(t),e.appendChild(o),e.appendChild(c),e.appendChild(s),r.appendChild(e),[2]}})})}),r.appendChild(d),t.appendChild(r)},c.prototype.showToast=function(e,n){void 0===n&&(n="success");var t=document.getElementById("onbe-toast-notification");t&&t.remove();var o=i("div","onbe-toast-notification",e);o.id="onbe-toast-notification",a(o,{position:"fixed",bottom:"24px",right:"24px",background:"success"===n?this.cfg.successColor||"#4caf50":this.cfg.errorColor||"#f44336",color:"white",padding:"16px 24px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:"10000",fontSize:"14px",fontWeight:"500",animation:"slideIn 0.3s ease-out"}),document.body.appendChild(o),setTimeout(function(){o&&o.parentNode&&(a(o,{animation:"slideOut 0.3s ease-in"}),setTimeout(function(){o&&o.parentNode&&o.remove()},300))},3e3)},c.prototype.showRequestCheckPlaceholder=function(){return e(this,void 0,void 0,function(){var e,t,o,r,d,c,s=this;return n(this,function(n){return this.rootEl&&(e=this.rootEl.querySelector(".onbe-rebate-card-holder"))?(e.innerHTML="",a(t=i("div","onbe-check-placeholder-container"),{padding:"20px 20px 20px 20px",textAlign:"center"}),(o=i("div","onbe-check-icon")).innerHTML='<svg width="64" height="64" viewBox="0 0 24 24" fill="none"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z" fill="'.concat(this.cfg.primaryColor||"#4db6ac",'"/></svg>'),a(o,{marginBottom:"20px",marginTop:"20px"}),a(r=i("h3","onbe-check-title","Request Check"),{fontSize:"16px",fontWeight:"600",color:"#333",marginTop:"0",marginBottom:"12px"}),a(d=i("p","onbe-check-desc","This feature is coming soon! Check requests will be available in a future update."),{fontSize:"14px",color:"#666",lineHeight:"1.6",marginBottom:"24px"}),a(c=i("button","onbe-back-to-methods","Back to Payment Methods"),{padding:"12px 24px",background:this.cfg.primaryColor||"#4db6ac",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer"}),c.addEventListener("click",function(){s.showPayoutMethodSelection().then(function(e){s.handlePayoutSelection(e)})}),t.appendChild(o),t.appendChild(r),t.appendChild(d),t.appendChild(c),e.appendChild(t),[2]):[2]})})},c.prototype.maskBankNumber=function(e,n){void 0===n&&(n=3);var t=e.replace(/\s/g,""),o=t.slice(-n);return"•".repeat(t.length-n)+o},c.prototype.handlePayoutSelection=function(t){return e(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:switch(t){case"virtual_card":return[3,1];case"bank_transfer":return[3,3];case"request_check":return[3,5]}return[3,7];case 1:return[4,this.fetchAndRenderCard()];case 2:case 4:case 6:return e.sent(),[3,7];case 3:return[4,this.showBankTransferFlow()];case 5:return[4,this.showRequestCheckPlaceholder()];case 7:return[2]}})})},c.prototype.cardStyles=function(){return{background:"transparent"}},c}();export{c as RebateSDK};
//# sourceMappingURL=index.esm.js.map
