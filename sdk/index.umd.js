!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).OnbeRebateSDK={})}(this,function(e){"use strict";function n(e,n,t,o){return new(t||(t=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function d(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,d)}c((o=o.apply(e,n||[])).next())})}function t(e,n){var t,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=d(0),a.throw=d(1),a.return=d(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function d(d){return function(c){return function(d){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(i=0)),i;)try{if(t=1,o&&(r=2&d[0]?o.return:d[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,d[1])).done)return r;switch(o=0,r&&(d=[2&d[0],r.value]),d[0]){case 0:case 1:r=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,o=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==d[0]&&2!==d[0])){i=0;continue}if(3===d[0]&&(!r||d[1]>r[0]&&d[1]<r[3])){i.label=d[1];break}if(6===d[0]&&i.label<r[1]){i.label=r[1],r=d;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(d);break}r[2]&&i.ops.pop(),i.trys.pop();continue}d=n.call(e,i)}catch(e){d=[6,e],o=0}finally{t=r=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,c])}}}"function"==typeof SuppressedError&&SuppressedError;var o="https://rebate-sdk-api-test.optisolbusiness.com/",r="create-account",i="get-cvv-details";function a(e,n,t){var o=document.createElement(e);return n&&(o.className=n),void 0!==t&&(o.innerHTML=t),o}function d(e,n){Object.assign(e.style,n)}var c={programId:"04016113",accountNumber:"0401611300744169",partner_user_id:"d2fe53af-51f8-4cb6-ac7f-682396061f3f",cardNumber:"5445446557809529",cardNumberMasked:"5445XXXXXXXX9529",firstName:"John",lastName:"Doe",exp_year:2026,exp_month:10,available:9300},s=function(){function e(e){if(this.container=null,this.rootEl=null,this.selectedPayoutMethod=null,this.currentBankAccount=null,!e||!e.containerId)throw new Error("RebateSDK: containerId is required");this.cfg=e}return e.prototype.mount=function(){return n(this,void 0,void 0,function(){var e,n,o;return t(this,function(t){switch(t.label){case 0:if(!(e=document.getElementById(this.cfg.containerId)))throw new Error("Container with id ".concat(this.cfg.containerId," not found"));return this.container=e,e.innerHTML="",d(n=a("div","onbe-rebate-root"),{fontFamily:"Arial, sans-serif",width:"100%",maxWidth:"400px",margin:"0 auto"}),o=a("div","onbe-rebate-card-holder"),n.appendChild(o),e.appendChild(n),this.rootEl=n,this.injectToastStyles(),[4,this.showTermsFlow()];case 1:return t.sent(),[2]}})})},e.prototype.injectToastStyles=function(){if(!document.getElementById("onbe-toast-styles")){var e=this.cfg.primaryColor||"#4db6ac",n=a("style");n.id="onbe-toast-styles",n.innerHTML="\n      @keyframes slideIn {\n        from {\n          transform: translateX(400px);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0);\n          opacity: 1;\n        }\n      }\n      @keyframes slideOut {\n        from {\n          transform: translateX(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateX(400px);\n          opacity: 0;\n        }\n      }\n      \n      /* Checkbox styling */\n      .onbe-checkbox:checked {\n        accent-color: ".concat(e,";\n      }\n      \n      /* Radio button styling */\n      .onbe-radio-checking:checked,\n      .onbe-radio-savings:checked {\n        accent-color: ").concat(e,";\n      }\n    "),document.head.appendChild(n)}},e.prototype.showTermsFlow=function(){return n(this,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return this.showLoadingBar("Loading terms..."),[4,new Promise(function(e){return setTimeout(e,800)})];case 1:return e.sent(),this.hideLoadingBar(),[4,this.showTermsAndConditions()];case 2:return e.sent(),[2]}})})},e.prototype.showTermsAndConditions=function(){return n(this,void 0,void 0,function(){var e=this;return t(this,function(o){return[2,new Promise(function(o){if(e.rootEl){var r=e.rootEl.querySelector(".onbe-rebate-card-holder");if(r){r.innerHTML="";var i=a("div","onbe-terms-container");d(i,{padding:"8px 20px 20px 20px",maxWidth:"100%"});var c=a("h3","onbe-terms-title","Terms & Conditions");d(c,{fontSize:"16px",fontWeight:"600",margin:"0 0 12px 0",marginTop:"0",textAlign:"center",color:"#333"});var s=a("p","onbe-terms-desc","To receive your refund as a virtual card, please review and accept our terms and conditions.");d(s,{fontSize:"14px",color:"#666",marginBottom:"16px",lineHeight:"1.6"});var l=a("div","onbe-links-box");d(l,{background:"#f9fafb",padding:"16px",borderRadius:"8px",marginBottom:"16px"});var p=a("p","onbe-links-text","By accepting, you agree to receive your refund as a virtual prepaid card. Please read our policies:");d(p,{fontSize:"13px",color:"#555",marginBottom:"12px",lineHeight:"1.5",margin:"0 0 12px 0"});var u=a("div","onbe-links-wrapper");d(u,{display:"flex",gap:"16px",flexWrap:"wrap"});var h=a("a","onbe-terms-link","Terms of Service →");h.setAttribute("href","#"),h.setAttribute("target","_blank"),d(h,{color:e.cfg.primaryColor||"#0b6cff",textDecoration:"none",fontSize:"14px",fontWeight:"500"});var f=a("a","onbe-privacy-link","Privacy Policy →");f.setAttribute("href","#"),f.setAttribute("target","_blank"),d(f,{color:e.cfg.primaryColor||"#0b6cff",textDecoration:"none",fontSize:"14px",fontWeight:"500"}),u.appendChild(h),u.appendChild(f),l.appendChild(p),l.appendChild(u);var b=a("label","onbe-checkbox-label");d(b,{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",cursor:"pointer"});var g=a("input","onbe-checkbox");g.type="checkbox",d(g,{width:"18px",height:"18px",cursor:"pointer"});var v=a("span","onbe-checkbox-text","I have read and agree to the terms and conditions");d(v,{fontSize:"14px",color:"#333"}),b.appendChild(g),b.appendChild(v);var x=a("div","onbe-buttons-container");d(x,{display:"flex",gap:"12px"});var m=a("button","onbe-decline-btn","Decline");d(m,{flex:"1",padding:"12px",background:"#fff",color:"#666",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer"});var y=a("button","onbe-accept-btn","Accept");d(y,{flex:"1",padding:"12px",background:e.cfg.primaryColor||"#0b6cff",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"not-allowed",opacity:"0.5"}),y.disabled=!0,g.addEventListener("change",function(){g.checked?(y.disabled=!1,d(y,{cursor:"pointer",opacity:"1"})):(y.disabled=!0,d(y,{cursor:"not-allowed",opacity:"0.5"}))}),y.addEventListener("click",function(){return n(e,void 0,void 0,function(){var e;return t(this,function(n){switch(n.label){case 0:return y.disabled?[3,3]:(r.innerHTML="",[4,this.showPayoutMethodSelection()]);case 1:return e=n.sent(),[4,this.handlePayoutSelection(e)];case 2:n.sent(),o(),n.label=3;case 3:return[2]}})})}),m.addEventListener("click",function(){r.innerHTML="";var e=a("div","onbe-decline-msg","You have declined the terms. Please refresh to try again.");d(e,{textAlign:"center",padding:"20px",color:"#666",fontSize:"14px"}),r.appendChild(e)}),x.appendChild(m),x.appendChild(y),i.appendChild(c),i.appendChild(s),i.appendChild(l),i.appendChild(b),i.appendChild(x),r.appendChild(i)}}})]})})},e.prototype.fetchAndRenderCard=function(){return n(this,void 0,void 0,function(){var e,n,o,r;return t(this,function(t){switch(t.label){case 0:this.showLoadingBar("Loading your card..."),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,this.fetchCardDetails()];case 2:return e=t.sent(),this.hideLoadingBar(),this.renderCard(e),[4,this.fetchCvv(e.partner_user_id,e.programId)];case 3:return n=t.sent(),this.renderDetailsBox({cardNumber:e.cardNumber,cvv:n.slice(0,3),firstName:e.firstName,lastName:e.lastName,exp_month:e.exp_month,exp_year:e.exp_year}),[3,5];case 4:return o=t.sent(),console.error("RebateSDK: Failed to fetch and render card",o),this.hideLoadingBar(),this.rootEl&&(d(r=a("div","onbe-error"),{color:"#d32f2f",padding:"12px",textAlign:"center",fontSize:"14px"}),r.textContent="Unable to load card details. Please try again later.",this.rootEl.appendChild(r)),[3,5];case 5:return[2]}})})},e.prototype.showLoadingBar=function(e){if(void 0===e&&(e="Loading your card..."),this.rootEl){var n=a("div","onbe-loading-container");d(n,{padding:"24px",textAlign:"center"});var t=a("div","onbe-loading-text",e);d(t,{fontSize:"14px",color:"#666",marginBottom:"16px",fontWeight:"500"});var o=a("div","onbe-progress-bg");d(o,{width:"100%",height:"6px",background:"#e0e0e0",borderRadius:"3px",overflow:"hidden",position:"relative"});var r=a("div","onbe-progress-bar");d(r,{width:"0%",height:"100%",background:"linear-gradient(90deg, ".concat(this.cfg.primaryColor||"#0b6cff",", ").concat(this.cfg.secondaryColor||"#6ec1ff",")"),borderRadius:"3px",transition:"width 0.3s ease",animation:"onbe-progress 2s ease-in-out infinite"});var i=a("style");i.innerHTML="\n      @keyframes onbe-progress {\n        0% { width: 0%; }\n        50% { width: 70%; }\n        100% { width: 100%; }\n      }\n    ",document.head.appendChild(i),o.appendChild(r),n.appendChild(t),n.appendChild(o);var c=this.rootEl.querySelector(".onbe-rebate-card-holder");c&&c.appendChild(n)}},e.prototype.hideLoadingBar=function(){if(this.rootEl){var e=this.rootEl.querySelector(".onbe-rebate-card-holder");if(e){var n=e.querySelector(".onbe-loading-container");n&&n.remove()}}},e.prototype.fetchCardDetails=function(){return n(this,void 0,void 0,function(){var e,n,i,a,d;return t(this,function(t){switch(t.label){case 0:e={keyValue:[{key:"example_key",value:"example_value"}],partner_user_id:"",program_id:"04016113",promotion_id:"1",transaction_id:crypto.randomUUID(),accessLevel:1,accountPersonalized:"TRUE",card:{cardAccessLevel:1},load:{amount:1,comment:"testadd",keyValue:[{key:"",value:"683"}],claimable:0,notificationIndicator:0,templateId:"363"},registration:{addenda:{reference_1:"",reference_2:"",reference_3:"",reference_4:""},address1:"test address1",address2:"test address2",address3:"test address3",address4:"test address4",businessEmail:"vijay.prasad@onbe.com",businessPhone:"610-234-4564",city:"Conshohocken",country:"US",date_of_birth:"01/02/1993",emailAddress:"vijay.prasad@onbe.com",firstName:"Walter",homeEmail:"vijay.prasad+test@onbe.com",homePhone:"610-123-4567",keyValue:[{key:"example_key",value:"example_value"}],lastName:"White",middleName:"",mobileEmail:"vijay.prasad@onbe.com",mobilePhone:"610-123-4567",phone:"610-123-4567",postal:"19428",ssn:"987654321",state:"PA",suffixName:"Ms.",notificationIndicator:0}},t.label=1;case 1:return t.trys.push([1,6,,7]),n=o+r,[4,fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),cache:"no-store"})];case 2:return i=t.sent(),console.log("RebateSDK: fetch to",n,"status",i.status),i.ok?[4,i.json()]:[3,4];case 3:return a=t.sent(),console.log("RebateSDK: server response",a),[2,a.data];case 4:console.warn("RebateSDK: server returned non-ok status",i.status),t.label=5;case 5:return[3,7];case 6:return d=t.sent(),console.warn("RebateSDK: failed to fetch from server, falling back to mock",d),[3,7];case 7:return[4,new Promise(function(e){return setTimeout(e,600)})];case 8:return t.sent(),[2,c]}})})},e.prototype.fetchCvv=function(e,r){return n(this,void 0,void 0,function(){var n,a,d,c;return t(this,function(t){switch(t.label){case 0:n=o+i+"?partnerUserId=".concat(encodeURIComponent(e),"&programId=").concat(encodeURIComponent(r)),t.label=1;case 1:return t.trys.push([1,7,,8]),[4,fetch(n,{method:"GET",headers:{Accept:"application/json"},cache:"no-store"})];case 2:return a=t.sent(),console.log("RebateSDK: fetch CVV to",n,"status",a.status),a.ok?[4,a.json()]:[3,5];case 3:return d=t.sent(),console.log("RebateSDK: CVV response",d),[4,this.decrypt(d.cvv)];case 4:return[2,t.sent()];case 5:console.warn("RebateSDK: CVV fetch returned non-ok status",a.status),t.label=6;case 6:return[3,8];case 7:return c=t.sent(),console.warn("RebateSDK: failed to fetch CVV",c),[3,8];case 8:return[2,"123"]}})})},e.prototype.decrypt=function(e){return n(this,void 0,void 0,function(){var n,o,r,i,a,d,c,s,l,p,u;return t(this,function(t){switch(t.label){case 0:n="a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e",t.label=1;case 1:return t.trys.push([1,5,,6]),o=Uint8Array.from(atob(e),function(e){return e.charCodeAt(0)}),r=o.slice(0,16),i=o.slice(16),a=new TextEncoder,d=a.encode(n),[4,crypto.subtle.digest("SHA-256",d)];case 2:return c=t.sent(),s=new Uint8Array(c).slice(0,32),[4,crypto.subtle.importKey("raw",s,{name:"AES-CBC"},!1,["decrypt"])];case 3:return l=t.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:r},l,i)];case 4:return p=t.sent(),[2,(new TextDecoder).decode(p)];case 5:throw u=t.sent(),new Error("Decryption failed: "+u.message);case 6:return[2]}})})},e.prototype.maskCardNumber=function(e){console.log(e);var n=e.replace(/\s/g,"").slice(-4);return"•••• •••• •••• ".concat(n)},e.prototype.renderCard=function(e){var n=this;if(this.rootEl){var t=this.rootEl.querySelector(".onbe-rebate-card-holder");if(t){t.innerHTML="";var o=a("div","onbe-card");d(o,this.cardStyles());var r=this.maskCardNumber(e.cardNumberMasked),i=a("div","onbe-card-image");d(i,{marginTop:"12px",position:"relative",width:"100%",paddingBottom:"63%",background:"linear-gradient(135deg, ".concat(this.cfg.primaryColor||"#0b6cff",", ").concat(this.cfg.secondaryColor||"#6ec1ff",")"),borderRadius:"12px",color:"#fff",boxSizing:"border-box",overflow:"hidden"});var c=a("div","onbe-card-content");if(d(c,{position:"absolute",top:0,left:0,right:0,bottom:0,padding:"16px",display:"flex",flexDirection:"column",justifyContent:"flex-start"}),i.appendChild(c),this.cfg.companyName){var s=a("div","onbe-company-in-card",this.cfg.companyName);d(s,{position:"absolute",top:"12px",left:"16px",fontSize:"14px",fontWeight:"700",color:"rgba(255,255,255,0.95)"}),i.appendChild(s)}var l=a("div","onbe-card-number",r);d(l,{fontSize:"20px",letterSpacing:"2px",fontFamily:"monospace",fontWeight:"500",whiteSpace:"nowrap",textAlign:"left",margin:"74px 0 8px 16px",overflow:"hidden",textOverflow:"ellipsis"}),c.appendChild(l);var p=a("div","onbe-cardholder-name",e.firstName+" "+e.lastName);d(p,{fontSize:"14px",fontWeight:"600",color:"rgba(255,255,255,0.95)",textAlign:"left",marginTop:"6px",marginLeft:"16px"}),c.appendChild(p);var u=a("div","onbe-card-meta");d(u,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginTop:"auto"});var h=a("div","onbe-card-expiry");d(h,{display:"flex",flexDirection:"column",gap:"1px"}),h.innerHTML='\n      <div style="color:rgba(255,255,255,0.7);font-size:9px;text-transform:uppercase;margin-bottom:1px">Exp</div>\n      <div style="font-size:13px">'.concat("".concat(e.exp_month,"/").concat(e.exp_year)||"","</div>\n    ");var f=a("div","onbe-card-cvv");d(f,{textAlign:"right",display:"flex",flexDirection:"column",gap:"1px"}),f.innerHTML='\n      <div style="color:rgba(255,255,255,0.7);font-size:9px;text-transform:uppercase;margin-bottom:1px">CVV</div>\n      <div style="font-size:13px">•••</div>\n    ',u.appendChild(h),u.appendChild(f),c.appendChild(u),o.appendChild(i);var b=a("div","onbe-balance-container");d(b,{marginTop:"20px",textAlign:"center"});var g=a("div","onbe-balance-divider");d(g,{width:"60%",height:"1px",background:"linear-gradient(90deg, transparent, #e0e0e0, transparent)",margin:"0 auto 16px auto"}),b.appendChild(g);var v=(e.available||0)/100,x=a("div","onbe-balance-label","Available Balance");d(x,{fontSize:"14px",fontWeight:"500",color:"#666",marginBottom:"4px"});var m=a("div","onbe-balance-amount","$".concat(v.toFixed(2)));d(m,{fontSize:"28px",fontWeight:"700",color:this.cfg.primaryColor||"#0b6cff",lineHeight:"1.2"}),b.appendChild(x),b.appendChild(m),o.appendChild(b);var y=a("div","onbe-details-container");d(y,{marginTop:"16px",textAlign:"center"});var C=a("div","onbe-details-divider");d(C,{width:"40%",height:"1px",background:"linear-gradient(90deg, transparent, #e0e0e0, transparent)",margin:"0 auto 12px auto"}),y.appendChild(C);var k=a("button","onbe-collapse-toggle","Show Card Details");d(k,{background:"transparent",border:"2px solid ".concat(this.cfg.primaryColor||"#0b6cff"),borderRadius:"8px",color:this.cfg.primaryColor||"#0b6cff",cursor:"pointer",padding:"10px 20px",fontSize:"15px",fontWeight:"600",transition:"all 0.2s ease",outline:"none"}),k.addEventListener("mouseenter",function(){d(k,{background:n.cfg.primaryColor||"#0b6cff",color:"#fff"})}),k.addEventListener("mouseleave",function(){d(k,{background:"transparent",color:n.cfg.primaryColor||"#0b6cff"})});var w=a("div","onbe-details-box");d(w,{marginTop:"16px",padding:"20px",borderRadius:"12px",background:"#f9fafb",border:"1px solid #e5e7eb",display:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"}),k.addEventListener("click",function(){"none"!==w.style.display&&w.style.display?(w.style.display="none",k.innerHTML="Show Card Details"):(w.style.display="block",k.innerHTML="Hide Card Details")}),y.appendChild(k),y.appendChild(w),o.appendChild(y),t.appendChild(o),this.renderAddToWalletButton(t)}}},e.prototype.renderDetailsBox=function(e){if(this.rootEl){var n=this.rootEl.querySelector(".onbe-details-box");n.innerHTML="";var t=[{label:"Card Number",value:e.cardNumber},{label:"CVV",value:e.cvv||""},{label:"Expiry Date",value:"".concat(e.exp_month,"/").concat(e.exp_year)}];t.forEach(function(e,o){var r=a("div","onbe-detail-item");d(r,{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:o<t.length-1?"1px solid #e5e7eb":"none"});var i=a("span","onbe-detail-label",e.label);d(i,{fontSize:"14px",fontWeight:"600",color:"#666"});var c=a("span","onbe-detail-value",e.value);d(c,{fontSize:"16px",fontWeight:"500",color:"#333",fontFamily:"Card Number"===e.label?"monospace":"inherit",letterSpacing:"Card Number"===e.label?"1px":"normal"}),r.appendChild(i),r.appendChild(c),n.appendChild(r)})}},e.prototype.renderAddToWalletButton=function(e){var o=this,r=a("div","onbe-wallet-container");d(r,{marginTop:"16px",display:"flex",justifyContent:"center"});var i=a("button","onbe-wallet-btn");d(i,{width:"100%",maxWidth:"320px",padding:"12px 16px",background:this.cfg.buttonColor||"#00897b",color:"#fff",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.2s"});i.innerHTML="".concat('\n      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" fill="currentColor"/>\n      </svg>\n    ',"<span>Add to Apple Pay</span>"),i.addEventListener("mouseenter",function(){i.disabled||d(i,{background:o.cfg.buttonHoverColor||"#00695c"})}),i.addEventListener("mouseleave",function(){i.disabled||d(i,{background:o.cfg.buttonColor||"#00897b"})}),i.addEventListener("click",function(){return n(o,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,this.showAddToWalletFullScreen()];case 1:return e.sent(),i.disabled=!0,d(i,{background:"#e0e0e0",color:"#666",cursor:"not-allowed"}),i.innerHTML="<span>Card added to wallet</span>".concat('\n        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">\n          <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>\n        </svg>\n      '),[2]}})})}),r.appendChild(i),e.appendChild(r)},e.prototype.showAddToWalletFullScreen=function(){return n(this,void 0,void 0,function(){var e,n,o,r,i,c,s,l,p,u,h,f,b,g,v,x,m,y,C,k;return t(this,function(t){switch(t.label){case 0:return this.rootEl?(d(e=a("div","onbe-wallet-overlay"),{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"#f5f5f7",zIndex:"99999",display:"flex",flexDirection:"column"}),d(n=a("div","onbe-content-area"),{flex:"1",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#fff",padding:"40px 20px 20px",overflow:"auto"}),d(o=a("div","onbe-card-preview"),{width:"90%",maxWidth:"320px",aspectRatio:"1.586",background:"linear-gradient(135deg, ".concat(this.cfg.primaryColor||"#4db6ac",", ").concat(this.cfg.secondaryColor||"#80cbc4",")"),borderRadius:"16px",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",color:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"20px",marginBottom:"24px"}),this.cfg.companyName&&(d(r=a("div","onbe-card-logo-container"),{display:"flex",alignItems:"center",gap:"8px"}),d(i=a("div","onbe-card-logo"),{width:"32px",height:"32px",backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"700"}),i.textContent=this.cfg.companyName.substring(0,2).toUpperCase(),d(c=a("div","onbe-card-company",this.cfg.companyName),{fontSize:"13px",fontWeight:"600"}),r.appendChild(i),r.appendChild(c),o.appendChild(r)),d(s=a("div","onbe-card-number","•••• 3923"),{fontSize:"18px",fontFamily:"monospace",letterSpacing:"2px",textAlign:"left"}),o.appendChild(s),d(l=a("div","onbe-status-container"),{textAlign:"center",flex:"1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",maxWidth:"320px"}),n.appendChild(o),n.appendChild(l),d(p=a("div","onbe-browser-footer"),{backgroundColor:"#fff",borderTop:"1px solid #d1d1d6",padding:"8px 12px 20px",display:"flex",flexDirection:"column",gap:"8px"}),d(u=a("div","onbe-url-bar"),{backgroundColor:"#f5f5f7",borderRadius:"8px",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#333"}),d(h=a("div","onbe-aa-icon","aA"),{fontSize:"14px",fontWeight:"600",color:"#333"}),(f=a("div","onbe-lock")).innerHTML='<svg width="12" height="12" viewBox="0 0 24 24" fill="none"><rect x="5" y="11" width="14" height="10" rx="2" stroke="#8E8E93" stroke-width="2"/><path d="M8 11V7a4 4 0 0 1 8 0v4" stroke="#8E8E93" stroke-width="2"/></svg>',d(b=a("div","onbe-url-text","apple-pay.apple.com"),{flex:"1",color:"#333"}),(g=a("div","onbe-refresh")).innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M4 12a8 8 0 1 1 0 .01" stroke="#8E8E93" stroke-width="2" stroke-linecap="round"/><path d="M4 6v6h6" stroke="#8E8E93" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',u.appendChild(h),u.appendChild(f),u.appendChild(b),u.appendChild(g),d(v=a("div","onbe-nav-controls"),{display:"flex",justifyContent:"space-around",alignItems:"center",padding:"4px 12px"}),(x=a("div","onbe-nav-btn")).innerHTML='<svg width="28" height="28" viewBox="0 0 28 28" fill="none"><path d="M17 21l-7-7 7-7" stroke="#007AFF" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',(m=a("div","onbe-nav-btn")).innerHTML='<svg width="28" height="28" viewBox="0 0 28 28" fill="none"><path d="M11 21l7-7-7-7" stroke="#8E8E93" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',(y=a("div","onbe-nav-btn")).innerHTML='<svg width="24" height="28" viewBox="0 0 24 28" fill="none"><path d="M12 4v16" stroke="#007AFF" stroke-width="2" stroke-linecap="round"/><path d="M7 9l5-5 5 5" stroke="#007AFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M5 21h14" stroke="#007AFF" stroke-width="2.5" stroke-linecap="round"/></svg>',(C=a("div","onbe-nav-btn")).innerHTML='<svg width="24" height="28" viewBox="0 0 24 28" fill="none"><path d="M5 5v16c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H7c-1.1 0-2 .9-2 2z" stroke="#007AFF" stroke-width="2" stroke-linecap="round"/><path d="M5 8h14" stroke="#007AFF" stroke-width="2" stroke-linecap="round"/></svg>',(k=a("div","onbe-nav-btn")).innerHTML='<svg width="28" height="28" viewBox="0 0 28 28" fill="none"><rect x="7" y="7" width="14" height="10" rx="1.5" stroke="#007AFF" stroke-width="2"/><path d="M21 12h-3m0 5h3" stroke="#007AFF" stroke-width="2" stroke-linecap="round"/></svg>',v.appendChild(x),v.appendChild(m),v.appendChild(y),v.appendChild(C),v.appendChild(k),p.appendChild(u),p.appendChild(v),e.appendChild(n),e.appendChild(p),document.body.appendChild(e),this.showAddingCardSpinner(l),[4,new Promise(function(e){return setTimeout(e,2e3)})]):[2];case 1:return t.sent(),this.showCardAddedSuccess(l,e),[2]}})})},e.prototype.showAddingCardSpinner=function(e){e.innerHTML="";var n=a("div","onbe-wallet-status-row");d(n,{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"18px",fontWeight:"600",color:"#000",marginBottom:"12px"});var t=a("span","onbe-wallet-loading-text","Adding Card"),o=a("div","onbe-wallet-spinner");o.innerHTML='\n      <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="animation: spin 1s linear infinite; display: inline-block;">\n        <style>\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        </style>\n        <circle cx="12" cy="12" r="10" stroke="#007AFF" stroke-width="3" fill="none" stroke-dasharray="60" stroke-dashoffset="15" stroke-linecap="round"/>\n      </svg>\n    ',n.appendChild(t),n.appendChild(o),e.appendChild(n)},e.prototype.showCardAddedSuccess=function(e,n){e.innerHTML="";var t=a("div","onbe-wallet-status-row");d(t,{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"18px",fontWeight:"600",color:"#000",marginBottom:"12px"});var o=a("span","onbe-success-text","Card Added"),r=a("div","onbe-checkmark");r.innerHTML='\n      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" style="display: inline-block;">\n        <circle cx="12" cy="12" r="10" fill="#34C759"/>\n        <path d="M8 12l3 3 5-5" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>\n    ',t.appendChild(o),t.appendChild(r);var i=a("div","onbe-wallet-success-message","Virtual Card is ready for Apple Pay on your selected devices.");d(i,{fontSize:"13px",color:"#666",lineHeight:"1.5",marginBottom:"auto",padding:"0 20px",textAlign:"center"});var c=a("button","onbe-done-btn","Done");d(c,{width:"100%",padding:"16px",background:"#007AFF",color:"#fff",border:"none",borderRadius:"14px",fontSize:"17px",fontWeight:"600",cursor:"pointer",transition:"opacity 0.2s",marginTop:"24px"}),c.addEventListener("mouseenter",function(){d(c,{opacity:"0.8"})}),c.addEventListener("mouseleave",function(){d(c,{opacity:"1"})}),c.addEventListener("click",function(){document.body.removeChild(n)}),e.appendChild(t),e.appendChild(i),e.appendChild(c)},e.prototype.showPayoutMethodSelection=function(){return n(this,void 0,void 0,function(){var e=this;return t(this,function(n){return[2,new Promise(function(n){if(e.rootEl){var t=e.rootEl.querySelector(".onbe-rebate-card-holder");if(t){t.innerHTML="";var o=a("div","onbe-payout-selection-container");d(o,{padding:"8px 20px 20px 20px",maxWidth:"100%"});var r=a("h3","onbe-payout-title","Choose Your Payout Method");d(r,{fontSize:"16px",fontWeight:"600",margin:"0 0 6px 0",marginTop:"0",textAlign:"center",color:"#333"});var i=a("p","onbe-payout-desc","Select how you'd like to receive your refund");d(i,{fontSize:"14px",color:"#666",marginBottom:"16px",textAlign:"center",lineHeight:"1.6"});var c=[{id:"virtual_card",title:"Virtual Card",description:"Instant access, use online",icon:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" fill="'.concat(e.cfg.primaryColor||"#4db6ac",'"/></svg>'),enabled:!0},{id:"bank_transfer",title:"Bank Transfer",description:"Direct deposit to account",icon:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path d="M4 10h3v7H4v-7zm6.5 0h3v7h-3v-7zM2 19h20v3H2v-3zM17 10h3v7h-3v-7zM12 1L2 6v2h20V6L12 1z" fill="'.concat(e.cfg.primaryColor||"#4db6ac",'"/></svg>'),enabled:!0},{id:"request_check",title:"Request Check",description:"Mailed to your address",icon:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z" fill="'.concat(e.cfg.primaryColor||"#4db6ac",'"/></svg>'),enabled:!0}],s=a("div","onbe-payout-options");d(s,{display:"flex",flexDirection:"column",gap:"12px"}),c.forEach(function(t){var o=e.renderPayoutMethodOption(t,function(t){e.selectedPayoutMethod=t,n(t)});s.appendChild(o)}),o.appendChild(r),o.appendChild(i),o.appendChild(s),t.appendChild(o)}}})]})})},e.prototype.renderPayoutMethodOption=function(e,n){var t=this,o=a("div","onbe-payout-tile");d(o,{border:"2px solid #e0e0e0",borderRadius:"12px",padding:"20px",background:"#fff",cursor:e.enabled?"pointer":"not-allowed",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"16px",opacity:e.enabled?"1":"0.5"}),e.enabled&&(o.addEventListener("mouseenter",function(){d(o,{border:"2px solid ".concat(t.cfg.primaryColor||"#4db6ac"),background:"#f9fafb"})}),o.addEventListener("mouseleave",function(){d(o,{border:"2px solid #e0e0e0",background:"#fff"})}),o.addEventListener("click",function(){n(e.id)}));var r=a("div","onbe-payout-icon");r.innerHTML=e.icon,d(r,{flexShrink:"0",width:"32px",height:"32px"});var i=a("div","onbe-payout-text");d(i,{flex:"1"});var c=a("div","onbe-payout-tile-title",e.title);d(c,{fontSize:"16px",fontWeight:"600",color:"#333",marginBottom:"4px"});var s=a("div","onbe-payout-tile-desc",e.description);return d(s,{fontSize:"13px",color:"#666",lineHeight:"1.4"}),i.appendChild(c),i.appendChild(s),o.appendChild(r),o.appendChild(i),o},e.prototype.showBankTransferFlow=function(){return n(this,void 0,void 0,function(){var e;return t(this,function(n){switch(n.label){case 0:return[4,this.showBankAccountForm()];case 1:return(e=n.sent())&&(this.currentBankAccount=e,this.renderBankAccountCard(e)),[2]}})})},e.prototype.showBankAccountForm=function(){return n(this,void 0,void 0,function(){var e=this;return t(this,function(n){return[2,new Promise(function(n){if(e.rootEl){var t=e.rootEl.querySelector(".onbe-rebate-card-holder");if(t){t.innerHTML="";var o=a("div","onbe-bank-form-container");d(o,{padding:"8px 20px 20px 20px",maxWidth:"100%"});var r=a("h3","onbe-bank-form-title","Add Bank");d(r,{fontSize:"16px",fontWeight:"600",marginTop:"0",margin:"0 0 20px 0",color:"#333"});var i=a("div","onbe-field-label","Account Type");d(i,{fontSize:"14px",fontWeight:"500",color:"#333",marginBottom:"8px",marginTop:"16px"});var c=a("div","onbe-radio-container");d(c,{display:"flex",gap:"24px",marginBottom:"16px"});var s=a("label","onbe-radio-label");d(s,{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"15px"});var l=a("input","onbe-radio-checking");l.type="radio",l.name="accountType",l.value="checking",l.checked=!0,d(l,{width:"18px",height:"18px",cursor:"pointer"}),s.appendChild(l),s.appendChild(a("span","","Checking"));var p=a("label","onbe-radio-label");d(p,{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"15px"});var u=a("input","onbe-radio-savings");u.type="radio",u.name="accountType",u.value="savings",d(u,{width:"18px",height:"18px",cursor:"pointer"}),p.appendChild(u),p.appendChild(a("span","","Savings")),c.appendChild(s),c.appendChild(p);var h=a("input","onbe-input-bank-name");h.type="text",h.placeholder="Bank Name*",h.value="Wells Fargo Bank",d(h,{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"15px",boxSizing:"border-box",marginBottom:"16px"});var f=a("input","onbe-input-routing");f.type="text",f.placeholder="Routing Number*",f.maxLength=9,f.value="123456898",d(f,{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"15px",boxSizing:"border-box",marginBottom:"16px"}),f.addEventListener("input",function(e){var n=e.target;n.value=n.value.replace(/\D/g,"")});var b=a("input","onbe-input-account");b.type="text",b.placeholder="Account Number*",b.maxLength=17,b.value="987654622",d(b,{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"15px",boxSizing:"border-box",marginBottom:"16px"}),b.addEventListener("input",function(e){var n=e.target;n.value=n.value.replace(/\D/g,"")});var g=a("input","onbe-input-confirm");g.type="text",g.placeholder="Confirm Account Number*",g.maxLength=17,g.value="987654622",d(g,{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"15px",boxSizing:"border-box",marginBottom:"20px"}),g.addEventListener("input",function(e){var n=e.target;n.value=n.value.replace(/\D/g,"")});var v=a("div","onbe-bank-buttons");d(v,{display:"flex",gap:"12px"});var x=a("button","onbe-cancel-btn","Cancel");d(x,{flex:"1",padding:"12px",background:"#fff",color:"#666",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer"}),x.addEventListener("click",function(){n(null),e.showPayoutMethodSelection().then(function(n){e.handlePayoutSelection(n)})});var m=a("button","onbe-save-btn","Save");d(m,{flex:"1",padding:"12px",background:e.cfg.primaryColor||"#4db6ac",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"not-allowed",opacity:"0.5"}),m.disabled=!0;var y=function(){var e=h.value.trim(),n=f.value.trim(),t=b.value.trim(),o=g.value.trim();e.length>=2&&9===n.length&&t.length>=4&&t.length<=17&&t===o?(m.disabled=!1,d(m,{cursor:"pointer",opacity:"1"})):(m.disabled=!0,d(m,{cursor:"not-allowed",opacity:"0.5"}))};h.addEventListener("input",y),f.addEventListener("input",y),b.addEventListener("input",y),g.addEventListener("input",y),y(),m.addEventListener("click",function(){if(!m.disabled){var t=l.checked?"checking":"savings",o={bankName:h.value.trim(),accountType:t,routingNumber:f.value.trim(),accountNumber:b.value.trim(),routingNumberMasked:e.maskBankNumber(f.value.trim(),3),accountNumberMasked:e.maskBankNumber(b.value.trim(),3)};n(o)}}),v.appendChild(x),v.appendChild(m),o.appendChild(r),o.appendChild(i),o.appendChild(c),o.appendChild(h),o.appendChild(f),o.appendChild(b),o.appendChild(g),o.appendChild(v),t.appendChild(o)}}})]})})},e.prototype.renderBankAccountCard=function(e){if(this.rootEl){var n=this.rootEl.querySelector(".onbe-rebate-card-holder");if(n){n.innerHTML="",this.showToast("Bank account added successfully");var t=a("div","onbe-bank-card-visual");d(t,{maxWidth:"320px",margin:"0 auto",position:"relative"});var o=a("div","onbe-bank-card-image");d(o,{width:"100%",aspectRatio:"1.586",background:"linear-gradient(135deg, ".concat(this.cfg.primaryColor||"#0b6cff",", ").concat(this.cfg.secondaryColor||"#6ec1ff",")"),borderRadius:"16px",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",position:"relative",color:"#fff",overflow:"hidden"});var r=a("div","onbe-bank-card-content");d(r,{padding:"16px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"});var i=a("div","onbe-bank-name-display",e.bankName);d(i,{fontSize:"14px",fontWeight:"700",color:"rgba(255,255,255,0.95)",marginBottom:"8px"}),r.appendChild(i);var c=a("div","onbe-account-type",e.accountType.charAt(0).toUpperCase()+e.accountType.slice(1)+" Account");d(c,{fontSize:"12px",color:"rgba(255,255,255,0.7)",marginBottom:"32px"}),r.appendChild(c);var s=a("div","onbe-account-number",e.accountNumberMasked);d(s,{fontSize:"18px",letterSpacing:"2px",fontFamily:"monospace",fontWeight:"500",marginBottom:"8px"}),r.appendChild(s);var l=a("div","onbe-routing-row");d(l,{display:"flex",flexDirection:"column",gap:"2px",marginTop:"auto"});var p=a("div","onbe-routing-label","ROUTING");d(p,{fontSize:"9px",color:"rgba(255,255,255,0.7)",textTransform:"uppercase"});var u=a("div","onbe-routing-value",e.routingNumberMasked);d(u,{fontSize:"13px",fontFamily:"monospace",letterSpacing:"1px"}),l.appendChild(p),l.appendChild(u),r.appendChild(l),o.appendChild(r),t.appendChild(o);var h=a("div","onbe-balance-container");d(h,{marginTop:"20px",textAlign:"center"});var f=a("div","onbe-balance-divider");d(f,{width:"60%",height:"1px",background:"linear-gradient(90deg, transparent, #e0e0e0, transparent)",margin:"0 auto 16px auto"}),h.appendChild(f);var b=a("div","onbe-balance-label","Refund Amount");d(b,{fontSize:"14px",fontWeight:"500",color:"#666",marginBottom:"6px"}),h.appendChild(b);var g=a("div","onbe-balance-value","$93.00");d(g,{fontSize:"32px",fontWeight:"700",color:this.cfg.primaryColor||"#4db6ac",marginBottom:"4px"}),h.appendChild(g),t.appendChild(h),n.appendChild(t),this.renderTransferButton(n)}}},e.prototype.renderTransferButton=function(e){var o=this,r=a("div","onbe-transfer-container");d(r,{marginTop:"16px",display:"flex",justifyContent:"center"});var i=a("button","onbe-transfer-btn","Transfer");d(i,{width:"100%",maxWidth:"320px",padding:"12px 16px",background:this.cfg.buttonColor||"#00897b",color:"#fff",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"}),i.addEventListener("mouseenter",function(){i.disabled||d(i,{background:o.cfg.buttonHoverColor||"#00695c"})}),i.addEventListener("mouseleave",function(){i.disabled||d(i,{background:o.cfg.buttonColor||"#00897b"})}),i.addEventListener("click",function(){return n(o,void 0,void 0,function(){var e,n,o,c,s,l=this;return t(this,function(t){switch(t.label){case 0:return i.disabled=!0,d(i,{cursor:"not-allowed",opacity:"0.7"}),i.innerHTML="".concat('\n        <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="animation: spin 1s linear infinite; display: inline-block; margin-right: 8px;">\n          <style>\n            @keyframes spin {\n              from { transform: rotate(0deg); }\n              to { transform: rotate(360deg); }\n            }\n          </style>\n          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="60" stroke-dashoffset="15" stroke-linecap="round"/>\n        </svg>\n      ',"<span>Processing...</span>"),[4,new Promise(function(e){return setTimeout(e,2e3)})];case 1:return t.sent(),r.innerHTML="",d(e=a("div","onbe-transfer-success"),{maxWidth:"320px",margin:"0 auto",padding:"20px",background:this.cfg.successBgColor||"#f0f9f4",border:"2px solid ".concat(this.cfg.successColor||"#10b981"),borderRadius:"12px",textAlign:"center"}),(n=a("div","onbe-success-icon")).innerHTML='\n        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" style="margin: 0 auto 12px;">\n          <circle cx="12" cy="12" r="10" fill="'.concat(this.cfg.successColor||"#10b981",'"/>\n          <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n      '),d(o=a("div","onbe-success-title","Transfer Initiated"),{fontSize:"18px",fontWeight:"600",color:"#333",marginBottom:"8px"}),d(c=a("div","onbe-success-message","You can expect the funds to be available in your account within 2-3 business days."),{fontSize:"14px",color:"#666",lineHeight:"1.6",marginBottom:"16px"}),d(s=a("button","onbe-ok-btn","Ok"),{padding:"10px 32px",background:this.cfg.buttonColor||"#00897b",color:"#fff",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"}),s.addEventListener("mouseenter",function(){d(s,{background:l.cfg.buttonHoverColor||"#00695c"})}),s.addEventListener("mouseleave",function(){d(s,{background:l.cfg.buttonColor||"#00897b"})}),s.addEventListener("click",function(){console.log("Transfer acknowledged")}),e.appendChild(n),e.appendChild(o),e.appendChild(c),e.appendChild(s),r.appendChild(e),[2]}})})}),r.appendChild(i),e.appendChild(r)},e.prototype.showToast=function(e,n){void 0===n&&(n="success");var t=document.getElementById("onbe-toast-notification");t&&t.remove();var o=a("div","onbe-toast-notification",e);o.id="onbe-toast-notification",d(o,{position:"fixed",bottom:"24px",right:"24px",background:"success"===n?this.cfg.successColor||"#4caf50":this.cfg.errorColor||"#f44336",color:"white",padding:"16px 24px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:"10000",fontSize:"14px",fontWeight:"500",animation:"slideIn 0.3s ease-out"}),document.body.appendChild(o),setTimeout(function(){o&&o.parentNode&&(d(o,{animation:"slideOut 0.3s ease-in"}),setTimeout(function(){o&&o.parentNode&&o.remove()},300))},3e3)},e.prototype.showRequestCheckPlaceholder=function(){return n(this,void 0,void 0,function(){var e,n,o,r,i,c,s=this;return t(this,function(t){return this.rootEl&&(e=this.rootEl.querySelector(".onbe-rebate-card-holder"))?(e.innerHTML="",d(n=a("div","onbe-check-placeholder-container"),{padding:"20px 20px 20px 20px",textAlign:"center"}),(o=a("div","onbe-check-icon")).innerHTML='<svg width="64" height="64" viewBox="0 0 24 24" fill="none"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z" fill="'.concat(this.cfg.primaryColor||"#4db6ac",'"/></svg>'),d(o,{marginBottom:"20px",marginTop:"20px"}),d(r=a("h3","onbe-check-title","Request Check"),{fontSize:"16px",fontWeight:"600",color:"#333",marginTop:"0",marginBottom:"12px"}),d(i=a("p","onbe-check-desc","This feature is coming soon! Check requests will be available in a future update."),{fontSize:"14px",color:"#666",lineHeight:"1.6",marginBottom:"24px"}),d(c=a("button","onbe-back-to-methods","Back to Payment Methods"),{padding:"12px 24px",background:this.cfg.primaryColor||"#4db6ac",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer"}),c.addEventListener("click",function(){s.showPayoutMethodSelection().then(function(e){s.handlePayoutSelection(e)})}),n.appendChild(o),n.appendChild(r),n.appendChild(i),n.appendChild(c),e.appendChild(n),[2]):[2]})})},e.prototype.maskBankNumber=function(e,n){void 0===n&&(n=3);var t=e.replace(/\s/g,""),o=t.slice(-n);return"•".repeat(t.length-n)+o},e.prototype.handlePayoutSelection=function(e){return n(this,void 0,void 0,function(){return t(this,function(n){switch(n.label){case 0:switch(e){case"virtual_card":return[3,1];case"bank_transfer":return[3,3];case"request_check":return[3,5]}return[3,7];case 1:return[4,this.fetchAndRenderCard()];case 2:case 4:case 6:return n.sent(),[3,7];case 3:return[4,this.showBankTransferFlow()];case 5:return[4,this.showRequestCheckPlaceholder()];case 7:return[2]}})})},e.prototype.cardStyles=function(){return{background:"transparent"}},e}();e.RebateSDK=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
